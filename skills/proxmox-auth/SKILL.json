{
  "sections": {
    "Common Patterns": "ssh 192.168.1.100 \"pct exec 200 -- journalctl -u docker -n 50\"\r\n```",
    "Troubleshooting": "```\r\n\r\n### Container Not Responding on Network\r\n**Checks:**\r\n1. Container running: `ssh 192.168.1.100 \"pct status 200\"`\r\n2. Has IP: `ssh 192.168.1.100 \"pct exec 200 -- ip addr\"`\r\n3. Network reachable: `ping 192.168.1.100`\r\n4. Services running: `ssh 192.168.1.100 \"pct exec 200 -- systemctl status\"`\r\n\r\n**Fix:** Restart container or reboot node if needed\r\n\r\n### Node Reboots\r\n**After node reboot:**\r\n- Containers with `onboot: 1` start automatically\r\n- Check with: `ssh 192.168.1.100 \"pct list | grep running\"`\r\n- Manual start if needed: `ssh 192.168.1.100 \"pct start 200\"`",
    "Authentication Methods": "ssh 192.168.1.100 \"pvecm status\"\r\n```",
    "AI-Workloads Container (CT200)": "ssh root@192.168.1.100 \"docker restart sd-auto1111\"\r\nssh root@192.168.1.100 \"docker restart comfyui\"\r\nssh root@192.168.1.100 \"docker restart ollama\"\r\n```",
    "Quick Reference": "| Task | Command |\r\n|------|---------|\r\n| List containers | `ssh NODE \"pct list\"` |\r\n| Start CT200 | `ssh 192.168.1.100 \"pct start 200\"` |\r\n| SSH to CT200 | `ssh root@192.168.1.100` |\r\n| Check CT200 status | `ssh 192.168.1.100 \"pct status 200\"` |\r\n| Get CT200 IP | `ssh 192.168.1.100 \"pct exec 200 -- hostname -I\"` |\r\n| Check services | `curl http://192.168.1.100:PORT/` |\r\n| Find container node | `ssh 192.168.1.100 \"ls /etc/pve/nodes/*/lxc/VMID.conf\"` |\r\n| Reboot node | `ssh 192.168.1.100 \"reboot\"` |",
    "Important Notes": "- **Always SSH to the correct node** for container operations\r\n- **CT200 is on spacenode2** (192.168.1.100)\r\n- **Use `pct exec`** for running commands inside containers\r\n- **GPU passthrough** requires specific LXC configuration (see CT200 config)\r\n- **DHCP containers** may change IP after restart (check with `pct exec`)",
    "Cluster Operations": "ssh 192.168.1.100 \"pct restore 200 /path/to/backup.tar.gz\"\r\n```",
    "VM Management (QEMU)": "ssh 192.168.1.100 \"qm config 100\"\r\n```",
    "Container Management (LXC)": "ssh root@192.168.1.100 \"docker ps -a\"\r\n```",
    "Network Diagnostics": "ssh 192.168.1.100 \"brctl show vmbr0\"\r\n```",
    "Cluster Configuration": "**Nodes:**\r\n- spacenode1: 192.168.1.100 (4 cores, 11.45 GiB RAM)\r\n- spacenode2: 192.168.1.100 (20 cores, 62.71 GiB RAM)\r\n\r\n**Important:** Commands default to the node you're connected to. For cross-node operations, SSH to the target node directly."
  },
  "content": "Expert guidance for Proxmox VE cluster authentication, API access, and infrastructure management.\r\n\r\n\r\n### SSH Access (Primary)\r\n```bash\r\nssh 192.168.1.100  # spacenode1\r\nssh 192.168.1.100  # spacenode2\r\n\r\nssh 192.168.1.100 \"pct list\"\r\nssh 192.168.1.100 \"qm list\"\r\n```\r\n\r\n### Proxmox API via pvesh\r\n```bash\r\nssh 192.168.1.100 \"pvesh get /nodes\"\r\n\r\nssh 192.168.1.100 \"pvesh get /nodes/spacenode1/status\"\r\n\r\n\r\n### Basic Operations\r\n```bash\r\nssh 192.168.1.100 \"pct list\"\r\n\r\nssh 192.168.1.100 \"pct start 200\"\r\n\r\nssh 192.168.1.100 \"pct stop 200\"\r\n\r\nssh 192.168.1.100 \"pct status 200\"\r\n\r\nssh 192.168.1.100 \"pct exec 200 -- command\"\r\n```\r\n\r\n### Configuration\r\n```bash\r\nssh 192.168.1.100 \"cat /etc/pve/nodes/spacenode2/lxc/200.conf\"\r\n\r\nssh 192.168.1.100 \"ls -lh /etc/pve/nodes/*/lxc/*.conf | grep 200.conf\"\r\n```\r\n\r\n### GPU Passthrough Containers\r\n```bash\r\n\r\nssh root@192.168.1.100\r\n\r\nssh 192.168.1.100 \"pct exec 200 -- nvidia-smi\"\r\n\r\n\r\n```bash\r\nssh 192.168.1.100 \"qm list\"\r\n\r\nssh 192.168.1.100 \"qm start 100\"\r\nssh 192.168.1.100 \"qm stop 100\"\r\n\r\n\r\n### Node Information\r\n```bash\r\nssh 192.168.1.100 \"pvecm nodes\"\r\n\r\nssh 192.168.1.100 \"pvecm status\"\r\n\r\nssh 192.168.1.100 \"cat /etc/pve/corosync.conf\"\r\n```\r\n\r\n### Storage\r\n```bash\r\nssh 192.168.1.100 \"pvesm status\"\r\n\r\nssh 192.168.1.100 \"pvesm list local-lvm\"\r\n```\r\n\r\n### Backups\r\n```bash\r\nssh 192.168.1.100 \"pvesh get /nodes/spacenode1/storage/local/content --content backup\"\r\n\r\nssh 192.168.1.100 \"vzdump 200 --mode snapshot --storage local\"\r\n\r\n\r\n### Container Network Issues\r\n```bash\r\nssh 192.168.1.100 \"pct exec 200 -- ip addr\"\r\n\r\nping 192.168.1.100\r\n\r\ncurl -s -o /dev/null -w \"%{http_code}\" http://192.168.1.100:7860/\r\n\r\nssh 192.168.1.100 \"pct exec 200 -- ip route\"\r\nssh 192.168.1.100 \"pct exec 200 -- systemctl status networking\"\r\n```\r\n\r\n### Bridge Configuration\r\n```bash\r\nssh 192.168.1.100 \"ip addr show vmbr0\"\r\n\r\n\r\n### Find Container Location\r\n```bash\r\nssh 192.168.1.100 \"ls -lh /etc/pve/nodes/*/lxc/*.conf | grep -E '200\\.conf|VMID|^/'\"\r\n```\r\n\r\n### Restart Container with Network Reset\r\n```bash\r\nssh 192.168.1.100 \"pct stop 200 && sleep 5 && pct start 200\"\r\n\r\nssh 192.168.1.100 \"pct status 200\"\r\nping -c 3 192.168.1.100\r\n```\r\n\r\n### Check Container Logs\r\n```bash\r\nssh 192.168.1.100 \"pct exec 200 -- journalctl -xe\"\r\n\r\n\r\n### \"Configuration file does not exist\"\r\n**Cause:** Running command from wrong node (container is on different node)\r\n\r\n**Fix:** Find correct node first:\r\n```bash\r\nssh 192.168.1.100 \"ls /etc/pve/nodes/*/lxc/200.conf\"\r\n\r\n**Hostname:** ai-workloads\r\n**IP:** 192.168.1.100\r\n**Node:** spacenode2 (192.168.1.100)\r\n**Resources:** 6 cores, 24GB RAM, NVIDIA GPU passthrough\r\n\r\n**Services:**\r\n- Stable Diffusion WebUI: http://192.168.1.100:7860\r\n- ComfyUI: http://192.168.1.100:8188\r\n- Ollama: http://192.168.1.100:11434\r\n- Open WebUI: http://192.168.1.100:3000\r\n\r\n**Docker Containers:**\r\n```bash\r\nssh root@192.168.1.100 \"docker ps -a\"",
  "id": "proxmox-auth",
  "name": "proxmox-auth",
  "description": ""
}