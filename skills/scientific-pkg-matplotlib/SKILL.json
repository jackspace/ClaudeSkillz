{
  "description": "\"Foundational plotting library. Create line plots, scatter, bar, histograms, heatmaps, 3D, subplots, export PNG/PDF/SVG, for scientific visualization and publication figures.\"",
  "references": {
    "files": [
      "references/api_reference.md",
      "references/common_issues.md",
      "references/plot_types.md",
      "references/styling_guide.md"
    ]
  },
  "content": "### 1. Basic Plot Creation\r\n\r\n**Single plot workflow:**\r\n```python\r\nimport matplotlib.pyplot as plt\r\nimport numpy as np\r\n\r\nfig, ax = plt.subplots(figsize=(10, 6))\r\n\r\nx = np.linspace(0, 2*np.pi, 100)\r\nax.plot(x, np.sin(x), label='sin(x)')\r\nax.plot(x, np.cos(x), label='cos(x)')\r\n\r\nax.set_xlabel('x')\r\nax.set_ylabel('y')\r\nax.set_title('Trigonometric Functions')\r\nax.legend()\r\nax.grid(True, alpha=0.3)\r\n\r\nplt.savefig('plot.png', dpi=300, bbox_inches='tight')\r\nplt.show()\r\n```\r\n\r\n### 2. Multiple Subplots\r\n\r\n**Creating subplot layouts:**\r\n```python\r\nfig, axes = plt.subplots(2, 2, figsize=(12, 10))\r\naxes[0, 0].plot(x, y1)\r\naxes[0, 1].scatter(x, y2)\r\naxes[1, 0].bar(categories, values)\r\naxes[1, 1].hist(data, bins=30)\r\n\r\nfig, axes = plt.subplot_mosaic([['left', 'right_top'],\r\n                                 ['left', 'right_bottom']],\r\n                                figsize=(10, 8))\r\naxes['left'].plot(x, y)\r\naxes['right_top'].scatter(x, y)\r\naxes['right_bottom'].hist(data)\r\n\r\nfrom matplotlib.gridspec import GridSpec\r\nfig = plt.figure(figsize=(12, 8))\r\ngs = GridSpec(3, 3, figure=fig)\r\nax1 = fig.add_subplot(gs[0, :])  # Top row, all columns\r\nax2 = fig.add_subplot(gs[1:, 0])  # Bottom two rows, first column\r\nax3 = fig.add_subplot(gs[1:, 1:])  # Bottom two rows, last two columns\r\n```\r\n\r\n### 3. Plot Types and Use Cases\r\n\r\n**Line plots** - Time series, continuous data, trends\r\n```python\r\nax.plot(x, y, linewidth=2, linestyle='--', marker='o', color='blue')\r\n```\r\n\r\n**Scatter plots** - Relationships between variables, correlations\r\n```python\r\nax.scatter(x, y, s=sizes, c=colors, alpha=0.6, cmap='viridis')\r\n```\r\n\r\n**Bar charts** - Categorical comparisons\r\n```python\r\nax.bar(categories, values, color='steelblue', edgecolor='black')\r\nax.barh(categories, values)\r\n```\r\n\r\n**Histograms** - Distributions\r\n```python\r\nax.hist(data, bins=30, edgecolor='black', alpha=0.7)\r\n```\r\n\r\n**Heatmaps** - Matrix data, correlations\r\n```python\r\nim = ax.imshow(matrix, cmap='coolwarm', aspect='auto')\r\nplt.colorbar(im, ax=ax)\r\n```\r\n\r\n**Contour plots** - 3D data on 2D plane\r\n```python\r\ncontour = ax.contour(X, Y, Z, levels=10)\r\nax.clabel(contour, inline=True, fontsize=8)\r\n```\r\n\r\n**Box plots** - Statistical distributions\r\n```python\r\nax.boxplot([data1, data2, data3], labels=['A', 'B', 'C'])\r\n```\r\n\r\n**Violin plots** - Distribution densities\r\n```python\r\nax.violinplot([data1, data2, data3], positions=[1, 2, 3])\r\n```\r\n\r\nFor comprehensive plot type examples and variations, refer to `references/plot_types.md`.\r\n\r\n### 4. Styling and Customization\r\n\r\n**Color specification methods:**\r\n- Named colors: `'red'`, `'blue'`, `'steelblue'`\r\n- Hex codes: `'#FF5733'`\r\n- RGB tuples: `(0.1, 0.2, 0.3)`\r\n- Colormaps: `cmap='viridis'`, `cmap='plasma'`, `cmap='coolwarm'`\r\n\r\n**Using style sheets:**\r\n```python\r\nplt.style.use('seaborn-v0_8-darkgrid')  # Apply predefined style\r\nprint(plt.style.available)  # List all available styles\r\n```\r\n\r\n**Customizing with rcParams:**\r\n```python\r\nplt.rcParams['font.size'] = 12\r\nplt.rcParams['axes.labelsize'] = 14\r\nplt.rcParams['axes.titlesize'] = 16\r\nplt.rcParams['xtick.labelsize'] = 10\r\nplt.rcParams['ytick.labelsize'] = 10\r\nplt.rcParams['legend.fontsize'] = 12\r\nplt.rcParams['figure.titlesize'] = 18\r\n```\r\n\r\n**Text and annotations:**\r\n```python\r\nax.text(x, y, 'annotation', fontsize=12, ha='center')\r\nax.annotate('important point', xy=(x, y), xytext=(x+1, y+1),\r\n            arrowprops=dict(arrowstyle='->', color='red'))\r\n```\r\n\r\nFor detailed styling options and colormap guidelines, see `references/styling_guide.md`.\r\n\r\n### 5. Saving Figures\r\n\r\n**Export to various formats:**\r\n```python\r\nplt.savefig('figure.png', dpi=300, bbox_inches='tight', facecolor='white')\r\n\r\nplt.savefig('figure.pdf', bbox_inches='tight')\r\nplt.savefig('figure.svg', bbox_inches='tight')\r\n\r\nplt.savefig('figure.png', dpi=300, bbox_inches='tight', transparent=True)\r\n```\r\n\r\n**Important parameters:**\r\n- `dpi`: Resolution (300 for publications, 150 for web, 72 for screen)\r\n- `bbox_inches='tight'`: Removes excess whitespace\r\n- `facecolor='white'`: Ensures white background (useful for transparent themes)\r\n- `transparent=True`: Transparent background\r\n\r\n### 6. Working with 3D Plots\r\n\r\n```python\r\nfrom mpl_toolkits.mplot3d import Axes3D\r\n\r\nfig = plt.figure(figsize=(10, 8))\r\nax = fig.add_subplot(111, projection='3d')\r\n\r\nax.plot_surface(X, Y, Z, cmap='viridis')\r\n\r\nax.scatter(x, y, z, c=colors, marker='o')\r\n\r\nax.plot(x, y, z, linewidth=2)\r\n\r\n\r\n### 1. Interface Selection\r\n- **Use the object-oriented interface** (fig, ax = plt.subplots()) for production code\r\n- Reserve pyplot interface for quick interactive exploration only\r\n- Always create figures explicitly rather than relying on implicit state\r\n\r\n### 2. Figure Size and DPI\r\n- Set figsize at creation: `fig, ax = plt.subplots(figsize=(10, 6))`\r\n- Use appropriate DPI for output medium:\r\n  - Screen/notebook: 72-100 dpi\r\n  - Web: 150 dpi\r\n  - Print/publications: 300 dpi\r\n\r\n### 3. Layout Management\r\n- Use `constrained_layout=True` or `tight_layout()` to prevent overlapping elements\r\n- `fig, ax = plt.subplots(constrained_layout=True)` is recommended for automatic spacing\r\n\r\n### 4. Colormap Selection\r\n- **Sequential** (viridis, plasma, inferno): Ordered data with consistent progression\r\n- **Diverging** (coolwarm, RdBu): Data with meaningful center point (e.g., zero)\r\n- **Qualitative** (tab10, Set3): Categorical/nominal data\r\n- Avoid rainbow colormaps (jet) - they are not perceptually uniform\r\n\r\n### 5. Accessibility\r\n- Use colorblind-friendly colormaps (viridis, cividis)\r\n- Add patterns/hatching for bar charts in addition to colors\r\n- Ensure sufficient contrast between elements\r\n- Include descriptive labels and legends\r\n\r\n### 6. Performance\r\n- For large datasets, use `rasterized=True` in plot calls to reduce file size\r\n- Use appropriate data reduction before plotting (e.g., downsample dense time series)\r\n- For animations, use blitting for better performance\r\n\r\n### 7. Code Organization\r\n```python\r\ndef create_analysis_plot(data, title):\r\n    \"\"\"Create standardized analysis plot.\"\"\"\r\n    fig, ax = plt.subplots(figsize=(10, 6), constrained_layout=True)\r\n\r\n    # Plot data\r\n    ax.plot(data['x'], data['y'], linewidth=2)\r\n\r\n    # Customize\r\n    ax.set_xlabel('X Axis Label', fontsize=12)\r\n    ax.set_ylabel('Y Axis Label', fontsize=12)\r\n    ax.set_title(title, fontsize=14, fontweight='bold')\r\n    ax.grid(True, alpha=0.3)\r\n\r\n    return fig, ax",
  "name": "matplotlib",
  "id": "scientific-pkg-matplotlib",
  "sections": {
    "Best Practices": "fig, ax = create_analysis_plot(my_data, 'My Analysis')\r\nplt.savefig('analysis.png', dpi=300, bbox_inches='tight')\r\n```",
    "Detailed References": "For comprehensive information, consult the reference documents:\r\n\r\n- **`references/plot_types.md`** - Complete catalog of plot types with code examples and use cases\r\n- **`references/styling_guide.md`** - Detailed styling options, colormaps, and customization\r\n- **`references/api_reference.md`** - Core classes and methods reference\r\n- **`references/common_issues.md`** - Troubleshooting guide for common problems",
    "Additional Resources": "- Official documentation: https://matplotlib.org/\r\n- Gallery: https://matplotlib.org/stable/gallery/index.html\r\n- Cheatsheets: https://matplotlib.org/cheatsheets/\r\n- Tutorials: https://matplotlib.org/stable/tutorials/index.html",
    "Quick Reference Scripts": "This skill includes helper scripts in the `scripts/` directory:\r\n\r\n### `plot_template.py`\r\nTemplate script demonstrating various plot types with best practices. Use this as a starting point for creating new visualizations.\r\n\r\n**Usage:**\r\n```bash\r\npython scripts/plot_template.py\r\n```\r\n\r\n### `style_configurator.py`\r\nInteractive utility to configure matplotlib style preferences and generate custom style sheets.\r\n\r\n**Usage:**\r\n```bash\r\npython scripts/style_configurator.py\r\n```",
    "Overview": "Matplotlib is Python's foundational visualization library for creating static, animated, and interactive plots. This skill provides guidance on using matplotlib effectively, covering both the pyplot interface (MATLAB-style) and the object-oriented API (Figure/Axes), along with best practices for creating publication-quality visualizations.",
    "Common Workflows": "ax.set_xlabel('X Label')\r\nax.set_ylabel('Y Label')\r\nax.set_zlabel('Z Label')\r\n```",
    "When to Use This Skill": "This skill should be used when:\r\n- Creating any type of plot or chart (line, scatter, bar, histogram, heatmap, contour, etc.)\r\n- Generating scientific or statistical visualizations\r\n- Customizing plot appearance (colors, styles, labels, legends)\r\n- Creating multi-panel figures with subplots\r\n- Exporting visualizations to various formats (PNG, PDF, SVG, etc.)\r\n- Building interactive plots or animations\r\n- Working with 3D visualizations\r\n- Integrating plots into Jupyter notebooks or GUI applications",
    "Integration with Other Tools": "Matplotlib integrates well with:\r\n- **NumPy/Pandas** - Direct plotting from arrays and DataFrames\r\n- **Seaborn** - High-level statistical visualizations built on matplotlib\r\n- **Jupyter** - Interactive plotting with `%matplotlib inline` or `%matplotlib widget`\r\n- **GUI frameworks** - Embedding in Tkinter, Qt, wxPython applications",
    "Common Gotchas": "1. **Overlapping elements**: Use `constrained_layout=True` or `tight_layout()`\r\n2. **State confusion**: Use OO interface to avoid pyplot state machine issues\r\n3. **Memory issues with many figures**: Close figures explicitly with `plt.close(fig)`\r\n4. **Font warnings**: Install fonts or suppress warnings with `plt.rcParams['font.sans-serif']`\r\n5. **DPI confusion**: Remember that figsize is in inches, not pixels: `pixels = dpi * inches`",
    "Core Concepts": "### The Matplotlib Hierarchy\r\n\r\nMatplotlib uses a hierarchical structure of objects:\r\n\r\n1. **Figure** - The top-level container for all plot elements\r\n2. **Axes** - The actual plotting area where data is displayed (one Figure can contain multiple Axes)\r\n3. **Artist** - Everything visible on the figure (lines, text, ticks, etc.)\r\n4. **Axis** - The number line objects (x-axis, y-axis) that handle ticks and labels\r\n\r\n### Two Interfaces\r\n\r\n**1. pyplot Interface (Implicit, MATLAB-style)**\r\n```python\r\nimport matplotlib.pyplot as plt\r\n\r\nplt.plot([1, 2, 3, 4])\r\nplt.ylabel('some numbers')\r\nplt.show()\r\n```\r\n- Convenient for quick, simple plots\r\n- Maintains state automatically\r\n- Good for interactive work and simple scripts\r\n\r\n**2. Object-Oriented Interface (Explicit)**\r\n```python\r\nimport matplotlib.pyplot as plt\r\n\r\nfig, ax = plt.subplots()\r\nax.plot([1, 2, 3, 4])\r\nax.set_ylabel('some numbers')\r\nplt.show()\r\n```\r\n- **Recommended for most use cases**\r\n- More explicit control over figure and axes\r\n- Better for complex figures with multiple subplots\r\n- Easier to maintain and debug"
  }
}