{
  "description": "Integration with protocols.io API for managing scientific protocols. This skill should be used when working with protocols.io to search, create, update, or publish protocols; manage protocol steps and materials; handle discussions and comments; organize workspaces; upload and manage files; or integrate protocols.io functionality into workflows. Applicable for protocol discovery, collaborative protocol development, experiment tracking, lab protocol management, and scientific documentation.",
  "references": {
    "files": [
      "references/additional_features.md",
      "references/authentication.md",
      "references/discussions.md",
      "references/file_manager.md",
      "references/protocols_api.md",
      "references/workspaces.md"
    ]
  },
  "content": "### Basic Protocol Search\r\n\r\n```python\r\nimport requests\r\n\r\ntoken = \"YOUR_ACCESS_TOKEN\"\r\nheaders = {\"Authorization\": f\"Bearer {token}\"}\r\n\r\nresponse = requests.get(\r\n    \"https://protocols.io/api/v3/protocols\",\r\n    headers=headers,\r\n    params={\r\n        \"filter\": \"public\",\r\n        \"key\": \"CRISPR\",\r\n        \"page_size\": 10,\r\n        \"content_format\": \"html\"\r\n    }\r\n)\r\n\r\nprotocols = response.json()\r\nfor protocol in protocols[\"items\"]:\r\n    print(f\"{protocol['title']} - {protocol['doi']}\")\r\n```\r\n\r\n### Create New Protocol\r\n\r\n```python\r\nimport requests\r\n\r\ntoken = \"YOUR_ACCESS_TOKEN\"\r\nheaders = {\r\n    \"Authorization\": f\"Bearer {token}\",\r\n    \"Content-Type\": \"application/json\"\r\n}\r\n\r\ndata = {\r\n    \"title\": \"CRISPR-Cas9 Gene Editing Protocol\",\r\n    \"description\": \"Comprehensive protocol for CRISPR gene editing\",\r\n    \"tags\": [\"CRISPR\", \"gene editing\", \"molecular biology\"]\r\n}\r\n\r\nresponse = requests.post(\r\n    \"https://protocols.io/api/v3/protocols\",\r\n    headers=headers,\r\n    json=data\r\n)\r\n\r\nprotocol_id = response.json()[\"item\"][\"id\"]\r\nprint(f\"Created protocol: {protocol_id}\")\r\n```\r\n\r\n### Upload File to Workspace\r\n\r\n```python\r\nimport requests\r\n\r\ntoken = \"YOUR_ACCESS_TOKEN\"\r\nheaders = {\"Authorization\": f\"Bearer {token}\"}",
  "name": "protocolsio-integration",
  "id": "scientific-integration-protocolsio-integration",
  "sections": {
    "Getting Started": "### Step 1: Authentication Setup\r\n\r\nBefore using any protocols.io API functionality:\r\n\r\n1. Obtain an access token (CLIENT_ACCESS_TOKEN or OAUTH_ACCESS_TOKEN)\r\n2. Read `references/authentication.md` for detailed authentication procedures\r\n3. Store the token securely\r\n4. Include in all requests as: `Authorization: Bearer YOUR_TOKEN`\r\n\r\n### Step 2: Identify Your Use Case\r\n\r\nDetermine which capability area addresses your needs:\r\n\r\n- **Working with protocols?** → Read `references/protocols_api.md`\r\n- **Managing team protocols?** → Read `references/workspaces.md`\r\n- **Handling comments/feedback?** → Read `references/discussions.md`\r\n- **Uploading files/data?** → Read `references/file_manager.md`\r\n- **Tracking experiments or profiles?** → Read `references/additional_features.md`\r\n\r\n### Step 3: Implement Integration\r\n\r\nFollow the guidance in the relevant reference files:\r\n\r\n- Each reference includes detailed endpoint documentation\r\n- API parameters and request/response formats are specified\r\n- Common use cases and workflows are provided with examples\r\n- Best practices and error handling guidance included",
    "Troubleshooting": "**Authentication Issues:**\r\n- Verify token is valid and not expired\r\n- Check Authorization header format: `Bearer YOUR_TOKEN`\r\n- Ensure appropriate token type (CLIENT vs OAUTH)\r\n\r\n**Rate Limiting:**\r\n- Implement exponential backoff for 429 errors\r\n- Monitor request frequency\r\n- Consider caching frequent requests\r\n\r\n**Permission Errors:**\r\n- Verify workspace/protocol access permissions\r\n- Check user role in workspace\r\n- Ensure protocol is not private if accessing without permission\r\n\r\n**File Upload Failures:**\r\n- Check file size against workspace limits\r\n- Verify file type is supported\r\n- Ensure multipart/form-data encoding is correct\r\n\r\nFor detailed troubleshooting guidance, refer to the specific reference files covering each capability area.",
    "Rate Limiting": "Be aware of API rate limits:\r\n\r\n- **Standard endpoints**: 100 requests per minute per user\r\n- **PDF endpoint**: 5 requests/minute (signed-in), 3 requests/minute (unsigned)\r\n\r\nImplement exponential backoff for rate limit errors (HTTP 429).",
    "Additional Resources": "- **Official API Documentation**: https://apidoc.protocols.io/\r\n- **Protocols.io Platform**: https://www.protocols.io/\r\n- **Support**: Contact protocols.io support for API access and technical issues\r\n- **Community**: Engage with protocols.io community for best practices",
    "Overview": "Protocols.io is a comprehensive platform for developing, sharing, and managing scientific protocols. This skill provides complete integration with the protocols.io API v3, enabling programmatic access to protocols, workspaces, discussions, file management, and collaboration features.",
    "Base URL and Request Format": "All API requests use the base URL:\r\n```\r\nhttps://protocols.io/api/v3\r\n```\r\n\r\nAll requests require the Authorization header:\r\n```\r\nAuthorization: Bearer YOUR_ACCESS_TOKEN\r\n```\r\n\r\nMost endpoints support JSON request/response format with `Content-Type: application/json`.",
    "Content Format Options": "Many endpoints support a `content_format` parameter to control how protocol content is returned:\r\n\r\n- `json`: Draft.js JSON format (default)\r\n- `html`: HTML format\r\n- `markdown`: Markdown format\r\n\r\nInclude as query parameter: `?content_format=html`",
    "Best Practices": "1. **Authentication**: Store tokens securely, never in code or version control\r\n2. **Rate Limiting**: Implement exponential backoff and respect rate limits\r\n3. **Error Handling**: Handle all HTTP error codes appropriately\r\n4. **Data Validation**: Validate input before API calls\r\n5. **Documentation**: Document protocol steps thoroughly\r\n6. **Collaboration**: Use comments and discussions for team communication\r\n7. **Organization**: Maintain consistent naming and tagging conventions\r\n8. **Versioning**: Track protocol versions when making updates\r\n9. **Attribution**: Properly cite protocols using DOIs\r\n10. **Backup**: Regularly export important protocols and workspace data",
    "Error Handling": "Implement robust error handling for API requests:\r\n\r\n```python\r\nimport requests\r\nimport time\r\n\r\ndef make_request_with_retry(url, headers, max_retries=3):\r\n    for attempt in range(max_retries):\r\n        try:\r\n            response = requests.get(url, headers=headers)\r\n\r\n            if response.status_code == 200:\r\n                return response.json()\r\n            elif response.status_code == 429:  # Rate limit\r\n                retry_after = int(response.headers.get('Retry-After', 60))\r\n                time.sleep(retry_after)\r\n                continue\r\n            elif response.status_code >= 500:  # Server error\r\n                time.sleep(2 ** attempt)  # Exponential backoff\r\n                continue\r\n            else:\r\n                response.raise_for_status()\r\n\r\n        except requests.exceptions.RequestException as e:\r\n            if attempt == max_retries - 1:\r\n                raise\r\n            time.sleep(2 ** attempt)\r\n\r\n    raise Exception(\"Max retries exceeded\")\r\n```",
    "When to Use This Skill": "Use this skill when working with protocols.io in any of the following scenarios:\r\n\r\n- **Protocol Discovery**: Searching for existing protocols by keywords, DOI, or category\r\n- **Protocol Management**: Creating, updating, or publishing scientific protocols\r\n- **Step Management**: Adding, editing, or organizing protocol steps and procedures\r\n- **Collaborative Development**: Working with team members on shared protocols\r\n- **Workspace Organization**: Managing lab or institutional protocol repositories\r\n- **Discussion & Feedback**: Adding or responding to protocol comments\r\n- **File Management**: Uploading data files, images, or documents to protocols\r\n- **Experiment Tracking**: Documenting protocol executions and results\r\n- **Data Export**: Backing up or migrating protocol collections\r\n- **Integration Projects**: Building tools that interact with protocols.io",
    "Common Workflows": "### Workflow 1: Import and Analyze Protocol\r\n\r\nTo analyze an existing protocol from protocols.io:\r\n\r\n1. **Search**: Use `GET /protocols` with keywords to find relevant protocols\r\n2. **Retrieve**: Get full details with `GET /protocols/{protocol_id}`\r\n3. **Extract**: Parse steps, materials, and metadata for analysis\r\n4. **Review discussions**: Check `GET /protocols/{id}/comments` for user feedback\r\n5. **Export**: Generate PDF if needed for offline reference\r\n\r\n**Reference files**: `protocols_api.md`, `discussions.md`\r\n\r\n### Workflow 2: Create and Publish Protocol\r\n\r\nTo create a new protocol and publish with DOI:\r\n\r\n1. **Authenticate**: Ensure you have valid access token (see `authentication.md`)\r\n2. **Create**: Use `POST /protocols` with title and description\r\n3. **Add steps**: For each step, use `POST /protocols/{id}/steps`\r\n4. **Add materials**: Document reagents in step components\r\n5. **Review**: Verify all content is complete and accurate\r\n6. **Publish**: Issue DOI with `POST /protocols/{id}/publish`\r\n\r\n**Reference files**: `protocols_api.md`, `authentication.md`\r\n\r\n### Workflow 3: Collaborative Lab Workspace\r\n\r\nTo set up team protocol management:\r\n\r\n1. **Create/join workspace**: Access or request workspace membership (see `workspaces.md`)\r\n2. **Organize structure**: Create folder hierarchy for lab protocols (see `file_manager.md`)\r\n3. **Create protocols**: Use `POST /workspaces/{id}/protocols` for team protocols\r\n4. **Upload files**: Add experimental data and images\r\n5. **Enable discussions**: Team members can comment and provide feedback\r\n6. **Track experiments**: Document protocol executions with experiment records\r\n\r\n**Reference files**: `workspaces.md`, `file_manager.md`, `protocols_api.md`, `discussions.md`, `additional_features.md`\r\n\r\n### Workflow 4: Experiment Documentation\r\n\r\nTo track protocol executions and results:\r\n\r\n1. **Execute protocol**: Perform protocol in laboratory\r\n2. **Upload data**: Use File Manager API to upload results (see `file_manager.md`)\r\n3. **Create record**: Document execution with `POST /protocols/{id}/runs`\r\n4. **Link files**: Reference uploaded data files in experiment record\r\n5. **Note modifications**: Document any protocol deviations or optimizations\r\n6. **Analyze**: Review multiple runs for reproducibility assessment\r\n\r\n**Reference files**: `additional_features.md`, `file_manager.md`, `protocols_api.md`\r\n\r\n### Workflow 5: Protocol Discovery and Citation\r\n\r\nTo find and cite protocols in research:\r\n\r\n1. **Search**: Query published protocols with `GET /publications`\r\n2. **Filter**: Use category and keyword filters for relevant protocols\r\n3. **Review**: Read protocol details and community comments\r\n4. **Bookmark**: Save useful protocols with `POST /protocols/{id}/bookmarks`\r\n5. **Cite**: Use protocol DOI in publications (proper attribution)\r\n6. **Export PDF**: Generate formatted PDF for offline reference\r\n\r\n**Reference files**: `protocols_api.md`, `additional_features.md`",
    "Reference Files": "Load the appropriate reference file based on your task:\r\n\r\n- **`authentication.md`**: OAuth flows, token management, rate limiting\r\n- **`protocols_api.md`**: Protocol CRUD, steps, materials, publishing, PDFs\r\n- **`discussions.md`**: Comments, replies, collaboration\r\n- **`workspaces.md`**: Team workspaces, permissions, organization\r\n- **`file_manager.md`**: File upload, folders, storage management\r\n- **`additional_features.md`**: Profiles, publications, experiments, notifications\r\n\r\nTo load a reference file, read the file from the `references/` directory when needed for specific functionality.",
    "Python Request Examples": "with open(\"data.csv\", \"rb\") as f:\r\n    files = {\"file\": f}\r\n    data = {\r\n        \"folder_id\": \"root\",\r\n        \"description\": \"Experimental results\",\r\n        \"tags\": \"experiment,data,2025\"\r\n    }\r\n\r\n    response = requests.post(\r\n        \"https://protocols.io/api/v3/workspaces/12345/files/upload\",\r\n        headers=headers,\r\n        files=files,\r\n        data=data\r\n    )\r\n\r\nfile_id = response.json()[\"item\"][\"id\"]\r\nprint(f\"Uploaded file: {file_id}\")\r\n```",
    "Core Capabilities": "This skill provides comprehensive guidance across five major capability areas:\r\n\r\n### 1. Authentication & Access\r\n\r\nManage API authentication using access tokens and OAuth flows. Includes both client access tokens (for personal content) and OAuth tokens (for multi-user applications).\r\n\r\n**Key operations:**\r\n- Generate authorization links for OAuth flow\r\n- Exchange authorization codes for access tokens\r\n- Refresh expired tokens\r\n- Manage rate limits and permissions\r\n\r\n**Reference:** Read `references/authentication.md` for detailed authentication procedures, OAuth implementation, and security best practices.\r\n\r\n### 2. Protocol Operations\r\n\r\nComplete protocol lifecycle management from creation to publication.\r\n\r\n**Key operations:**\r\n- Search and discover protocols by keywords, filters, or DOI\r\n- Retrieve detailed protocol information with all steps\r\n- Create new protocols with metadata and tags\r\n- Update protocol information and settings\r\n- Manage protocol steps (create, update, delete, reorder)\r\n- Handle protocol materials and reagents\r\n- Publish protocols with DOI issuance\r\n- Bookmark protocols for quick access\r\n- Generate protocol PDFs\r\n\r\n**Reference:** Read `references/protocols_api.md` for comprehensive protocol management guidance, including API endpoints, parameters, common workflows, and examples.\r\n\r\n### 3. Discussions & Collaboration\r\n\r\nEnable community engagement through comments and discussions.\r\n\r\n**Key operations:**\r\n- View protocol-level and step-level comments\r\n- Create new comments and threaded replies\r\n- Edit or delete your own comments\r\n- Analyze discussion patterns and feedback\r\n- Respond to user questions and issues\r\n\r\n**Reference:** Read `references/discussions.md` for discussion management, comment threading, and collaboration workflows.\r\n\r\n### 4. Workspace Management\r\n\r\nOrganize protocols within team workspaces with role-based permissions.\r\n\r\n**Key operations:**\r\n- List and access user workspaces\r\n- Retrieve workspace details and member lists\r\n- Request access or join workspaces\r\n- List workspace-specific protocols\r\n- Create protocols within workspaces\r\n- Manage workspace permissions and collaboration\r\n\r\n**Reference:** Read `references/workspaces.md` for workspace organization, permission management, and team collaboration patterns.\r\n\r\n### 5. File Operations\r\n\r\nUpload, organize, and manage files associated with protocols.\r\n\r\n**Key operations:**\r\n- Search workspace files and folders\r\n- Upload files with metadata and tags\r\n- Download files and verify uploads\r\n- Organize files into folder hierarchies\r\n- Update file metadata\r\n- Delete and restore files\r\n- Manage storage and organization\r\n\r\n**Reference:** Read `references/file_manager.md` for file upload procedures, organization strategies, and storage management.\r\n\r\n### 6. Additional Features\r\n\r\nSupplementary functionality including profiles, notifications, and exports.\r\n\r\n**Key operations:**\r\n- Manage user profiles and settings\r\n- Query recently published protocols\r\n- Create and track experiment records\r\n- Receive and manage notifications\r\n- Export organization data for archival\r\n\r\n**Reference:** Read `references/additional_features.md` for profile management, publication discovery, experiment tracking, and data export."
  }
}