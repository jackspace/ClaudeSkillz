{
  "description": "Enhance uxscii components from sketch to production fidelity. Use when working with .uxm files marked as \"fidelity: sketch\" or when user wants to add detail and polish to components.",
  "metadata": {
    "version": "0.0.1",
    "author": "Trabian",
    "allowedTools": "Read, Write, Edit, Glob, Grep, Task, TodoWrite"
  },
  "content": "Progressively enhance uxscii components from sketch to production quality.\r\n\r\n\r\nHelp users enhance components from current fidelity to target fidelity.\r\n\r\n### Workflow\r\n\r\n#### Step 1: Inventory Components\r\n\r\nCheck what components exist and their current fidelity:\r\n\r\n```bash\r\nls ./fluxwing/components/*.uxm\r\n```\r\n\r\nFor each component, read fidelity level:\r\n```bash\r\npython3 -c \"import json; print(json.load(open('./fluxwing/components/button.uxm'))['metadata'].get('fidelity', 'detailed'))\"\r\n```\r\n\r\nList components by fidelity:\r\n- sketch: [component-ids]\r\n- basic: [component-ids]\r\n- detailed: [component-ids]\r\n- production: [component-ids]\r\n\r\n#### Step 2: Determine Target Fidelity\r\n\r\nAsk user or use defaults:\r\n\r\n**User specifies:**\r\n- \"Enhance to basic\"\r\n- \"Upgrade to detailed\"\r\n- \"Make production-ready\"\r\n\r\n**Auto-select (if not specified):**\r\n- sketch → detailed (most common, best balance)\r\n- basic → detailed\r\n- detailed → production\r\n\r\n#### Step 3: Spawn Enhancement Agents\r\n\r\n**If enhancing multiple components (3+):**\r\n- Spawn agents in parallel (one per component)\r\n- Each agent enhances independently\r\n- Wait for all to complete\r\n\r\n**If enhancing single component:**\r\n- Spawn single agent\r\n- Focus on quality\r\n\r\n**Enhancement Agent Prompt:**\r\n\r\n```typescript\r\nTask({\r\n  subagent_type: \"general-purpose\",\r\n  model: \"sonnet\", // Quality matters for enhancement\r\n  description: \"Enhance ${componentId} to ${targetFidelity}\",\r\n  prompt: `Enhance uxscii component from ${currentFidelity} to ${targetFidelity}.\r\n\r\nComponent: ${componentId}\r\nCurrent fidelity: ${currentFidelity}\r\nTarget fidelity: ${targetFidelity}\r\n\r\nYour task:\r\n1. Read ./fluxwing/components/${componentId}.uxm\r\n2. Read ./fluxwing/components/${componentId}.md (if exists)\r\n3. Load enhancement patterns: {SKILL_ROOT}/docs/enhancement-patterns.md\r\n4. Load state templates: {SKILL_ROOT}/../fluxwing-component-creator/templates/state-additions/\r\n\r\n5. Enhance based on target fidelity:\r\n\r\n   ${targetFidelity === 'basic' ? `\r\n   For \"basic\" fidelity:\r\n   - Improve metadata.description (1-2 sentences, specific)\r\n   - Add specific tags (not just generic type)\r\n   - Create/improve .md with clean ASCII art\r\n   - Keep single default state\r\n   - Update fidelity field to \"basic\"\r\n   ` : ''}\r\n\r\n   ${targetFidelity === 'detailed' ? `\r\n   For \"detailed\" fidelity:\r\n   - All \"basic\" enhancements (if not already done)\r\n   - Add hover state (use {SKILL_ROOT}/../fluxwing-component-creator/templates/state-additions/hover.json)\r\n   - Add focus state (use {SKILL_ROOT}/../fluxwing-component-creator/templates/state-additions/focus.json)\r\n   - Polish ASCII art (smooth alignment, consistent spacing)\r\n   - Add props.examples array (2-3 usage examples)\r\n   - Update fidelity field to \"detailed\"\r\n   ` : ''}\r\n\r\n   ${targetFidelity === 'production' ? `\r\n   For \"production\" fidelity:\r\n   - All \"detailed\" enhancements (if not already done)\r\n   - Add disabled state (if applicable for component type)\r\n   - Add error state (if applicable for component type)\r\n   - Complete accessibility metadata:\r\n     - aria-label templates\r\n     - keyboard shortcuts\r\n     - screen reader descriptions\r\n   - Add behavior.keyboardShortcuts (if interactive)\r\n   - Publication-quality ASCII (pixel-perfect alignment)\r\n   - Document edge cases in description\r\n   - Update fidelity field to \"production\"\r\n   ` : ''}\r\n\r\n6. Save updated files (overwrite existing)\r\n7. Verify JSON is valid\r\n8. Return enhancement summary\r\n\r\nTarget time: ${targetTime[targetFidelity]} seconds\r\n\r\nReturn format:\r\n\"Enhanced ${componentId}: ${currentFidelity} → ${targetFidelity}\r\n- Added X states\r\n- Improved metadata\r\n- Polished ASCII\"\r\n`\r\n})\r\n```\r\n\r\n#### Step 4: Regenerate Screen (If Applicable)\r\n\r\nIf components belong to a screen, regenerate .rendered.md:\r\n\r\n```bash\r\ngrep -l \"${componentId}\" ./fluxwing/screens/*.uxm\r\n```\r\n\r\nIf found, respawn composer to regenerate .rendered.md with enhanced components.\r\n\r\n#### Step 5: Report Results\r\n\r\n```markdown",
  "name": "Fluxwing Enhancer",
  "id": "fluxwing-enhancer",
  "sections": {
    "Your Task": "",
    "Fidelity Levels": "### sketch (Fast Scaffold Output)\r\n- Basic .uxm with minimal metadata\r\n- May lack .md file or have simple .md\r\n- Single \"default\" state\r\n- Creation time: ~10 seconds\r\n\r\n**Characteristics:**\r\n- Minimal description\r\n- Generic tags\r\n- No examples\r\n- Basic props only\r\n\r\n### basic (First Enhancement)\r\n- Enriched metadata (better description, tags)\r\n- Simple .md with clean ASCII\r\n- Default state only\r\n- Enhancement time: ~30 seconds\r\n\r\n**Improvements over sketch:**\r\n- Detailed description\r\n- Specific tags\r\n- Clean ASCII art\r\n- Documented variables\r\n\r\n### detailed (Second Enhancement)\r\n- Rich metadata with usage examples\r\n- Polished .md with careful ASCII art\r\n- 2-3 interaction states (hover, focus)\r\n- Enhancement time: ~90 seconds\r\n\r\n**Improvements over basic:**\r\n- Usage examples in metadata\r\n- Hover + focus states\r\n- Polished ASCII\r\n- Props.examples array\r\n\r\n### production (Final Polish)\r\n- Complete metadata with accessibility details\r\n- Publication-quality ASCII\r\n- All relevant states (hover, focus, disabled, active, error)\r\n- Full documentation\r\n- Enhancement time: ~180 seconds\r\n\r\n**Improvements over detailed:**\r\n- All applicable states\r\n- Complete accessibility metadata\r\n- Keyboard shortcuts\r\n- Publication-quality ASCII\r\n- Edge case documentation",
    "Next Steps": "1. Review enhanced components: \\`ls ./fluxwing/components/\\`\r\n2. View updated screen: \\`cat ./fluxwing/screens/${screenName}.rendered.md\\`\r\n3. Customize as needed\r\n```",
    "Total Time: ${totalTime}s": "",
    "Success Criteria": "- ✓ Components upgraded to target fidelity\r\n- ✓ All states added as specified\r\n- ✓ ASCII art improved\r\n- ✓ Metadata enriched\r\n- ✓ Screen .rendered.md regenerated (if applicable)\r\n- ✓ All files validate against schema\r\n\r\nYou are building a progressive enhancement system for maximum flexibility!",
    "Components Enhanced": "${enhancedComponents.map(c => `\r\n### ${c.id}\r\n- Before: ${c.oldFidelity}\r\n- After: ${c.newFidelity}\r\n- Time: ${c.time}s\r\n- Changes:\r\n  - ${c.changes.join('\\n  - ')}\r\n`).join('\\n')}",
    "Data Location Rules": "**READ from:**\r\n- `./fluxwing/components/` - User components to enhance\r\n- `{SKILL_ROOT}/../fluxwing-component-creator/templates/state-additions/` - State templates\r\n- `{SKILL_ROOT}/docs/` - Enhancement documentation\r\n\r\n**WRITE to:**\r\n- `./fluxwing/components/` - Updated component files (in place)\r\n- `./fluxwing/screens/` - Updated screen .rendered.md (if applicable)",
    "Screens Updated": "${updatedScreens.length > 0 ? updatedScreens.map(s => `- ${s}.rendered.md regenerated`).join('\\n') : 'None'}",
    "Example Usage": "**User:** \"Enhance all components in banking-chat to detailed\"\r\n\r\n**Enhancer:**\r\n1. Finds 6 sketch components\r\n2. Spawns 6 enhancement agents (parallel)\r\n3. Each agent: sketch → detailed (~90s)\r\n4. Regenerates banking-chat.rendered.md\r\n5. Total time: ~120 seconds\r\n\r\n**User:** \"Make submit-button production-ready\"\r\n\r\n**Enhancer:**\r\n1. Finds submit-button (detailed fidelity)\r\n2. Spawns 1 enhancement agent\r\n3. Agent: detailed → production (~180s)\r\n4. Updates screen if applicable\r\n5. Total time: ~180 seconds"
  }
}