{
  "description": "\"Query STRING API for protein-protein interactions (59M proteins, 20B interactions). Network analysis, GO/KEGG enrichment, interaction discovery, 5000+ species, for systems biology.\"",
  "references": {
    "files": [
      "references/string_reference.md"
    ]
  },
  "content": "### 1. Identifier Mapping (`string_map_ids`)\r\n\r\nConvert gene names, protein names, and external IDs to STRING identifiers.\r\n\r\n**When to use**: Starting any STRING analysis, validating protein names, finding canonical identifiers.\r\n\r\n**Usage**:\r\n```python\r\nfrom scripts.string_api import string_map_ids\r\n\r\nresult = string_map_ids('TP53', species=9606)\r\n\r\nresult = string_map_ids(['TP53', 'BRCA1', 'EGFR', 'MDM2'], species=9606)\r\n\r\nresult = string_map_ids('p53', species=9606, limit=5)\r\n```\r\n\r\n**Parameters**:\r\n- `species`: NCBI taxon ID (9606 = human, 10090 = mouse, 7227 = fly)\r\n- `limit`: Number of matches per identifier (default: 1)\r\n- `echo_query`: Include query term in output (default: 1)\r\n\r\n**Best practice**: Always map identifiers first for faster subsequent queries.\r\n\r\n### 2. Network Retrieval (`string_network`)\r\n\r\nGet protein-protein interaction network data in tabular format.\r\n\r\n**When to use**: Building interaction networks, analyzing connectivity, retrieving interaction evidence.\r\n\r\n**Usage**:\r\n```python\r\nfrom scripts.string_api import string_network\r\n\r\nnetwork = string_network('9606.ENSP00000269305', species=9606)\r\n\r\nproteins = ['9606.ENSP00000269305', '9606.ENSP00000275493']\r\nnetwork = string_network(proteins, required_score=700)\r\n\r\nnetwork = string_network('TP53', species=9606, add_nodes=10, required_score=400)\r\n\r\nnetwork = string_network('TP53', species=9606, network_type='physical')\r\n```\r\n\r\n**Parameters**:\r\n- `required_score`: Confidence threshold (0-1000)\r\n  - 150: low confidence (exploratory)\r\n  - 400: medium confidence (default, standard analysis)\r\n  - 700: high confidence (conservative)\r\n  - 900: highest confidence (very stringent)\r\n- `network_type`: `'functional'` (all evidence, default) or `'physical'` (direct binding only)\r\n- `add_nodes`: Add N most connected proteins (0-10)\r\n\r\n**Output columns**: Interaction pairs, confidence scores, and individual evidence scores (neighborhood, fusion, coexpression, experimental, database, text-mining).\r\n\r\n### 3. Network Visualization (`string_network_image`)\r\n\r\nGenerate network visualization as PNG image.\r\n\r\n**When to use**: Creating figures, visual exploration, presentations.\r\n\r\n**Usage**:\r\n```python\r\nfrom scripts.string_api import string_network_image\r\n\r\nproteins = ['TP53', 'MDM2', 'ATM', 'CHEK2', 'BRCA1']\r\nimg_data = string_network_image(proteins, species=9606, required_score=700)\r\n\r\nwith open('network.png', 'wb') as f:\r\n    f.write(img_data)\r\n\r\nimg = string_network_image(proteins, species=9606, network_flavor='evidence')\r\n\r\nimg = string_network_image(proteins, species=9606, network_flavor='confidence')\r\n\r\nimg = string_network_image(proteins, species=9606, network_flavor='actions')\r\n```\r\n\r\n**Network flavors**:\r\n- `'evidence'`: Colored lines show evidence types (default)\r\n- `'confidence'`: Line thickness represents confidence\r\n- `'actions'`: Shows activating/inhibiting relationships\r\n\r\n### 4. Interaction Partners (`string_interaction_partners`)\r\n\r\nFind all proteins that interact with given protein(s).\r\n\r\n**When to use**: Discovering novel interactions, finding hub proteins, expanding networks.\r\n\r\n**Usage**:\r\n```python\r\nfrom scripts.string_api import string_interaction_partners\r\n\r\npartners = string_interaction_partners('TP53', species=9606, limit=10)\r\n\r\npartners = string_interaction_partners('TP53', species=9606,\r\n                                      limit=20, required_score=700)\r\n\r\npartners = string_interaction_partners(['TP53', 'MDM2'],\r\n                                      species=9606, limit=15)\r\n```\r\n\r\n**Parameters**:\r\n- `limit`: Maximum number of partners to return (default: 10)\r\n- `required_score`: Confidence threshold (0-1000)\r\n\r\n**Use cases**:\r\n- Hub protein identification\r\n- Network expansion from seed proteins\r\n- Discovering indirect connections\r\n\r\n### 5. Functional Enrichment (`string_enrichment`)\r\n\r\nPerform enrichment analysis across Gene Ontology, KEGG pathways, Pfam domains, and more.\r\n\r\n**When to use**: Interpreting protein lists, pathway analysis, functional characterization, understanding biological processes.\r\n\r\n**Usage**:\r\n```python\r\nfrom scripts.string_enrichment import string_enrichment\r\n\r\nproteins = ['TP53', 'MDM2', 'ATM', 'CHEK2', 'BRCA1', 'ATR', 'TP73']\r\nenrichment = string_enrichment(proteins, species=9606)\r\n\r\nimport pandas as pd\r\ndf = pd.read_csv(io.StringIO(enrichment), sep='\\t')\r\nsignificant = df[df['fdr'] < 0.05]\r\n```\r\n\r\n**Enrichment categories**:\r\n- **Gene Ontology**: Biological Process, Molecular Function, Cellular Component\r\n- **KEGG Pathways**: Metabolic and signaling pathways\r\n- **Pfam**: Protein domains\r\n- **InterPro**: Protein families and domains\r\n- **SMART**: Domain architecture\r\n- **UniProt Keywords**: Curated functional keywords\r\n\r\n**Output columns**:\r\n- `category`: Annotation database (e.g., \"KEGG Pathways\", \"GO Biological Process\")\r\n- `term`: Term identifier\r\n- `description`: Human-readable term description\r\n- `number_of_genes`: Input proteins with this annotation\r\n- `p_value`: Uncorrected enrichment p-value\r\n- `fdr`: False discovery rate (corrected p-value)\r\n\r\n**Statistical method**: Fisher's exact test with Benjamini-Hochberg FDR correction.\r\n\r\n**Interpretation**: FDR < 0.05 indicates statistically significant enrichment.\r\n\r\n### 6. PPI Enrichment (`string_ppi_enrichment`)\r\n\r\nTest if a protein network has significantly more interactions than expected by chance.\r\n\r\n**When to use**: Validating if proteins form functional module, testing network connectivity.\r\n\r\n**Usage**:\r\n```python\r\nfrom scripts.string_api import string_ppi_enrichment\r\nimport json\r\n\r\nproteins = ['TP53', 'MDM2', 'ATM', 'CHEK2', 'BRCA1']\r\nresult = string_ppi_enrichment(proteins, species=9606, required_score=400)\r\n\r\ndata = json.loads(result)\r\nprint(f\"Observed edges: {data['number_of_edges']}\")\r\nprint(f\"Expected edges: {data['expected_number_of_edges']}\")\r\nprint(f\"P-value: {data['p_value']}\")\r\n```\r\n\r\n**Output fields**:\r\n- `number_of_nodes`: Proteins in network\r\n- `number_of_edges`: Observed interactions\r\n- `expected_number_of_edges`: Expected in random network\r\n- `p_value`: Statistical significance\r\n\r\n**Interpretation**:\r\n- p-value < 0.05: Network is significantly enriched (proteins likely form functional module)\r\n- p-value â‰¥ 0.05: No significant enrichment (proteins may be unrelated)\r\n\r\n### 7. Homology Scores (`string_homology`)\r\n\r\nRetrieve protein similarity and homology information.\r\n\r\n**When to use**: Identifying protein families, paralog analysis, cross-species comparisons.\r\n\r\n**Usage**:\r\n```python\r\nfrom scripts.string_api import string_homology\r\n\r\n\r\n### Workflow 1: Protein List Analysis (Standard Workflow)\r\n\r\n**Use case**: Analyze a list of proteins from experiment (e.g., differential expression, proteomics).\r\n\r\n```python\r\nfrom scripts.string_api import (string_map_ids, string_network,\r\n                                string_enrichment, string_ppi_enrichment,\r\n                                string_network_image)\r\n\r\ngene_list = ['TP53', 'BRCA1', 'ATM', 'CHEK2', 'MDM2', 'ATR', 'BRCA2']\r\nmapping = string_map_ids(gene_list, species=9606)\r\n\r\nnetwork = string_network(gene_list, species=9606, required_score=400)\r\n\r\nppi_result = string_ppi_enrichment(gene_list, species=9606)\r\n\r\nenrichment = string_enrichment(gene_list, species=9606)\r\n\r\nimg = string_network_image(gene_list, species=9606,\r\n                          network_flavor='evidence', required_score=400)\r\nwith open('protein_network.png', 'wb') as f:\r\n    f.write(img)\r\n\r\n```\r\n\r\n### Workflow 2: Single Protein Investigation\r\n\r\n**Use case**: Deep dive into one protein's interactions and partners.\r\n\r\n```python\r\nfrom scripts.string_api import (string_map_ids, string_interaction_partners,\r\n                                string_network_image)\r\n\r\nprotein = 'TP53'\r\nmapping = string_map_ids(protein, species=9606)\r\n\r\npartners = string_interaction_partners(protein, species=9606,\r\n                                      limit=20, required_score=700)\r\n\r\nimg = string_network_image(protein, species=9606, add_nodes=15,\r\n                          network_flavor='confidence', required_score=700)\r\nwith open('tp53_network.png', 'wb') as f:\r\n    f.write(img)\r\n```\r\n\r\n### Workflow 3: Pathway-Centric Analysis\r\n\r\n**Use case**: Identify and visualize proteins in a specific biological pathway.\r\n\r\n```python\r\nfrom scripts.string_api import string_enrichment, string_network\r\n\r\ndna_repair_proteins = ['TP53', 'ATM', 'ATR', 'CHEK1', 'CHEK2',\r\n                       'BRCA1', 'BRCA2', 'RAD51', 'XRCC1']\r\n\r\nnetwork = string_network(dna_repair_proteins, species=9606,\r\n                        required_score=700, add_nodes=5)\r\n\r\nenrichment = string_enrichment(dna_repair_proteins, species=9606)\r\n\r\nimport pandas as pd\r\nimport io\r\ndf = pd.read_csv(io.StringIO(enrichment), sep='\\t')\r\ndna_repair = df[df['description'].str.contains('DNA repair', case=False)]\r\n```\r\n\r\n### Workflow 4: Cross-Species Analysis\r\n\r\n**Use case**: Compare protein interactions across different organisms.\r\n\r\n```python\r\nfrom scripts.string_api import string_network\r\n\r\nhuman_network = string_network('TP53', species=9606, required_score=700)\r\n\r\nmouse_network = string_network('Trp53', species=10090, required_score=700)\r\n\r\nyeast_network = string_network('gene_name', species=4932, required_score=700)\r\n```\r\n\r\n### Workflow 5: Network Expansion and Discovery\r\n\r\n**Use case**: Start with seed proteins and discover connected functional modules.\r\n\r\n```python\r\nfrom scripts.string_api import (string_interaction_partners, string_network,\r\n                                string_enrichment)\r\n\r\nseed_proteins = ['TP53']\r\n\r\npartners = string_interaction_partners(seed_proteins, species=9606,\r\n                                      limit=30, required_score=700)\r\n\r\nimport pandas as pd\r\nimport io\r\ndf = pd.read_csv(io.StringIO(partners), sep='\\t')\r\nall_proteins = list(set(df['preferredName_A'].tolist() +\r\n                       df['preferredName_B'].tolist()))\r\n\r\nenrichment = string_enrichment(all_proteins[:50], species=9606)",
  "name": "string-database",
  "id": "scientific-db-string-database",
  "sections": {
    "Detailed Reference": "For comprehensive API documentation, complete parameter lists, output formats, and advanced usage, refer to `references/string_reference.md`. This includes:\r\n\r\n- Complete API endpoint specifications\r\n- All supported output formats (TSV, JSON, XML, PSI-MI)\r\n- Advanced features (bulk upload, values/ranks enrichment)\r\n- Error handling and troubleshooting\r\n- Integration with other tools (Cytoscape, R, Python libraries)\r\n- Data license and citation information",
    "Additional Resources": "For proteome-scale analysis or complete species network upload:\r\n- Visit https://string-db.org\r\n- Use \"Upload proteome\" feature\r\n- STRING will generate complete interaction network and predict functions\r\n\r\nFor bulk downloads of complete datasets:\r\n- Download page: https://string-db.org/cgi/download\r\n- Includes complete interaction files, protein annotations, and pathway mappings",
    "Overview": "STRING is a comprehensive database of known and predicted protein-protein interactions covering 59M proteins and 20B+ interactions across 5000+ organisms. Query interaction networks, perform functional enrichment, discover partners via REST API for systems biology and pathway analysis.",
    "API Best Practices": "1. **Always map identifiers first**: Use `string_map_ids()` before other operations for faster queries\r\n2. **Use STRING IDs when possible**: Use format `9606.ENSP00000269305` instead of gene names\r\n3. **Specify species for networks >10 proteins**: Required for accurate results\r\n4. **Respect rate limits**: Wait 1 second between API calls\r\n5. **Use versioned URLs for reproducibility**: Available in reference documentation\r\n6. **Handle errors gracefully**: Check for \"Error:\" prefix in returned strings\r\n7. **Choose appropriate confidence thresholds**: Match threshold to analysis goals",
    "When to Use This Skill": "This skill should be used when:\r\n- Retrieving protein-protein interaction networks for single or multiple proteins\r\n- Performing functional enrichment analysis (GO, KEGG, Pfam) on protein lists\r\n- Discovering interaction partners and expanding protein networks\r\n- Testing if proteins form significantly enriched functional modules\r\n- Generating network visualizations with evidence-based coloring\r\n- Analyzing homology and protein family relationships\r\n- Conducting cross-species protein interaction comparisons\r\n- Identifying hub proteins and network connectivity patterns",
    "Citation": "When using STRING in publications, cite the most recent publication from: https://string-db.org/cgi/about",
    "Understanding Confidence Scores": "STRING provides combined confidence scores (0-1000) integrating multiple evidence types:\r\n\r\n### Evidence Channels\r\n\r\n1. **Neighborhood (nscore)**: Conserved genomic neighborhood across species\r\n2. **Fusion (fscore)**: Gene fusion events\r\n3. **Phylogenetic Profile (pscore)**: Co-occurrence patterns across species\r\n4. **Coexpression (ascore)**: Correlated RNA expression\r\n5. **Experimental (escore)**: Biochemical and genetic experiments\r\n6. **Database (dscore)**: Curated pathway and complex databases\r\n7. **Text-mining (tscore)**: Literature co-occurrence and NLP extraction\r\n\r\n### Recommended Thresholds\r\n\r\nChoose threshold based on analysis goals:\r\n\r\n- **150 (low confidence)**: Exploratory analysis, hypothesis generation\r\n- **400 (medium confidence)**: Standard analysis, balanced sensitivity/specificity\r\n- **700 (high confidence)**: Conservative analysis, high-confidence interactions\r\n- **900 (highest confidence)**: Very stringent, experimental evidence preferred\r\n\r\n**Trade-offs**:\r\n- Lower thresholds: More interactions (higher recall, more false positives)\r\n- Higher thresholds: Fewer interactions (higher precision, more false negatives)",
    "Network Types": "### Functional Networks (Default)\r\n\r\nIncludes all evidence types (experimental, computational, text-mining). Represents proteins that are functionally associated, even without direct physical binding.\r\n\r\n**When to use**:\r\n- Pathway analysis\r\n- Functional enrichment studies\r\n- Systems biology\r\n- Most general analyses\r\n\r\n### Physical Networks\r\n\r\nOnly includes evidence for direct physical binding (experimental data and database annotations for physical interactions).\r\n\r\n**When to use**:\r\n- Structural biology studies\r\n- Protein complex analysis\r\n- Direct binding validation\r\n- When physical contact is required",
    "Data License": "STRING data is freely available under **Creative Commons BY 4.0** license:\r\n- Free for academic and commercial use\r\n- Attribution required when publishing\r\n- Cite latest STRING publication",
    "Troubleshooting": "**No proteins found**:\r\n- Verify species parameter matches identifiers\r\n- Try mapping identifiers first with `string_map_ids()`\r\n- Check for typos in protein names\r\n\r\n**Empty network results**:\r\n- Lower confidence threshold (`required_score`)\r\n- Check if proteins actually interact\r\n- Verify species is correct\r\n\r\n**Timeout or slow queries**:\r\n- Reduce number of input proteins\r\n- Use STRING IDs instead of gene names\r\n- Split large queries into batches\r\n\r\n**\"Species required\" error**:\r\n- Add `species` parameter for networks with >10 proteins\r\n- Always include species for consistency\r\n\r\n**Results look unexpected**:\r\n- Check STRING version with `string_version()`\r\n- Verify network_type is appropriate (functional vs physical)\r\n- Review confidence threshold selection",
    "Core Operations": "proteins = ['TP53', 'TP63', 'TP73']  # p53 family\r\nhomology = string_homology(proteins, species=9606)\r\n```\r\n\r\n**Use cases**:\r\n- Protein family identification\r\n- Paralog discovery\r\n- Evolutionary analysis\r\n\r\n### 8. Version Information (`string_version`)\r\n\r\nGet current STRING database version.\r\n\r\n**When to use**: Ensuring reproducibility, documenting methods.\r\n\r\n**Usage**:\r\n```python\r\nfrom scripts.string_api import string_version\r\n\r\nversion = string_version()\r\nprint(f\"STRING version: {version}\")\r\n```",
    "Common Analysis Workflows": "enrichment_df = pd.read_csv(io.StringIO(enrichment), sep='\\t')\r\nmodules = enrichment_df[enrichment_df['fdr'] < 0.001]\r\n```",
    "Quick Start": "The skill provides:\r\n1. Python helper functions (`scripts/string_api.py`) for all STRING REST API operations\r\n2. Comprehensive reference documentation (`references/string_reference.md`) with detailed API specifications\r\n\r\nWhen users request STRING data, determine which operation is needed and use the appropriate function from `scripts/string_api.py`.",
    "Common Species": "When specifying species, use NCBI taxon IDs:\r\n\r\n| Organism | Common Name | Taxon ID |\r\n|----------|-------------|----------|\r\n| Homo sapiens | Human | 9606 |\r\n| Mus musculus | Mouse | 10090 |\r\n| Rattus norvegicus | Rat | 10116 |\r\n| Drosophila melanogaster | Fruit fly | 7227 |\r\n| Caenorhabditis elegans | C. elegans | 6239 |\r\n| Saccharomyces cerevisiae | Yeast | 4932 |\r\n| Arabidopsis thaliana | Thale cress | 3702 |\r\n| Escherichia coli | E. coli | 511145 |\r\n| Danio rerio | Zebrafish | 7955 |\r\n\r\nFull list available at: https://string-db.org/cgi/input?input_page_active_form=organisms"
  }
}