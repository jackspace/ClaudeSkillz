{
  "description": "Work with Data Commons, a platform providing programmatic access to public statistical data from global sources. Use this skill when working with demographic data, economic indicators, health statistics, environmental data, or any public datasets available through Data Commons. Applicable for querying population statistics, GDP figures, unemployment rates, disease prevalence, geographic entity resolution, and exploring relationships between statistical entities.",
  "references": {
    "files": [
      "references/getting_started.md",
      "references/node.md",
      "references/observation.md",
      "references/resolve.md"
    ]
  },
  "content": "The Data Commons API consists of three main endpoints, each detailed in dedicated reference files:\r\n\r\n### 1. Observation Endpoint - Statistical Data Queries\r\n\r\nQuery time-series statistical data for entities. See `references/observation.md` for comprehensive documentation.\r\n\r\n**Primary use cases:**\r\n- Retrieve population, economic, health, or environmental statistics\r\n- Access historical time-series data for trend analysis\r\n- Query data for hierarchies (all counties in a state, all countries in a region)\r\n- Compare statistics across multiple entities\r\n- Filter by data source for consistency\r\n\r\n**Common patterns:**\r\n```python\r\nfrom datacommons_client import DataCommonsClient\r\n\r\nclient = DataCommonsClient()\r\n\r\nresponse = client.observation.fetch(\r\n    variable_dcids=[\"Count_Person\"],\r\n    entity_dcids=[\"geoId/06\"],  # California\r\n    date=\"latest\"\r\n)\r\n\r\nresponse = client.observation.fetch(\r\n    variable_dcids=[\"UnemploymentRate_Person\"],\r\n    entity_dcids=[\"country/USA\"],\r\n    date=\"all\"\r\n)\r\n\r\nresponse = client.observation.fetch(\r\n    variable_dcids=[\"MedianIncome_Household\"],\r\n    entity_expression=\"geoId/06<-containedInPlace+{typeOf:County}\",\r\n    date=\"2020\"\r\n)\r\n```\r\n\r\n### 2. Node Endpoint - Knowledge Graph Exploration\r\n\r\nExplore entity relationships and properties within the knowledge graph. See `references/node.md` for comprehensive documentation.\r\n\r\n**Primary use cases:**\r\n- Discover available properties for entities\r\n- Navigate geographic hierarchies (parent/child relationships)\r\n- Retrieve entity names and metadata\r\n- Explore connections between entities\r\n- List all entity types in the graph\r\n\r\n**Common patterns:**\r\n```python\r\nlabels = client.node.fetch_property_labels(\r\n    node_dcids=[\"geoId/06\"],\r\n    out=True\r\n)\r\n\r\nchildren = client.node.fetch_place_children(\r\n    node_dcids=[\"country/USA\"]\r\n)\r\n\r\nnames = client.node.fetch_entity_names(\r\n    node_dcids=[\"geoId/06\", \"geoId/48\"]\r\n)\r\n```\r\n\r\n### 3. Resolve Endpoint - Entity Identification\r\n\r\nTranslate entity names, coordinates, or external IDs into Data Commons IDs (DCIDs). See `references/resolve.md` for comprehensive documentation.\r\n\r\n**Primary use cases:**\r\n- Convert place names to DCIDs for queries\r\n- Resolve coordinates to places\r\n- Map Wikidata IDs to Data Commons entities\r\n- Handle ambiguous entity names\r\n\r\n**Common patterns:**\r\n```python\r\nresponse = client.resolve.fetch_dcids_by_name(\r\n    names=[\"California\", \"Texas\"],\r\n    entity_type=\"State\"\r\n)\r\n\r\ndcid = client.resolve.fetch_dcid_by_coordinates(\r\n    latitude=37.7749,\r\n    longitude=-122.4194\r\n)\r\n\r\n\r\nStatistical variables use specific naming patterns in Data Commons:\r\n\r\n**Common variable patterns:**\r\n- `Count_Person` - Total population\r\n- `Count_Person_Female` - Female population\r\n- `UnemploymentRate_Person` - Unemployment rate\r\n- `Median_Income_Household` - Median household income\r\n- `Count_Death` - Death count\r\n- `Median_Age_Person` - Median age\r\n\r\n**Discovery methods:**\r\n```python\r\navailable = client.observation.fetch_available_statistical_variables(\r\n    entity_dcids=[\"geoId/06\"]\r\n)\r\n\r\n\r\nAll observation responses integrate with Pandas:\r\n\r\n```python\r\nresponse = client.observation.fetch(\r\n    variable_dcids=[\"Count_Person\"],\r\n    entity_dcids=[\"geoId/06\", \"geoId/48\"],\r\n    date=\"all\"\r\n)\r\n\r\ndf = response.to_observations_as_records()",
  "name": "datacommons-client",
  "id": "scientific-pkg-datacommons-client",
  "sections": {
    "Working with Pandas": "pivot = df.pivot_table(\r\n    values='value',\r\n    index='date',\r\n    columns='entity'\r\n)\r\n```",
    "Reference Documentation": "Comprehensive documentation for each endpoint is available in the `references/` directory:\r\n\r\n- **`references/observation.md`**: Complete Observation API documentation with all methods, parameters, response formats, and common use cases\r\n- **`references/node.md`**: Complete Node API documentation for graph exploration, property queries, and hierarchy navigation\r\n- **`references/resolve.md`**: Complete Resolve API documentation for entity identification and DCID resolution\r\n- **`references/getting_started.md`**: Quickstart guide with end-to-end examples and common patterns",
    "Additional Resources": "- **Official Documentation**: https://docs.datacommons.org/api/python/v2/\r\n- **Statistical Variable Explorer**: https://datacommons.org/tools/statvar\r\n- **Data Commons Browser**: https://datacommons.org/browser/\r\n- **GitHub Repository**: https://github.com/datacommonsorg/api-python",
    "Installation": "Install the Data Commons Python client with Pandas support:\r\n\r\n```bash\r\npip install \"datacommons-client[Pandas]\"\r\n```\r\n\r\nFor basic usage without Pandas:\r\n```bash\r\npip install datacommons-client\r\n```",
    "Overview": "Provides comprehensive access to the Data Commons Python API v2 for querying statistical observations, exploring the knowledge graph, and resolving entity identifiers. Data Commons aggregates data from census bureaus, health organizations, environmental agencies, and other authoritative sources into a unified knowledge graph.",
    "Typical Workflow": "Most Data Commons queries follow this pattern:\r\n\r\n1. **Resolve entities** (if starting with names):\r\n   ```python\r\n   resolve_response = client.resolve.fetch_dcids_by_name(\r\n       names=[\"California\", \"Texas\"]\r\n   )\r\n   dcids = [r[\"candidates\"][0][\"dcid\"]\r\n            for r in resolve_response.to_dict().values()\r\n            if r[\"candidates\"]]\r\n   ```\r\n\r\n2. **Discover available variables** (optional):\r\n   ```python\r\n   variables = client.observation.fetch_available_statistical_variables(\r\n       entity_dcids=dcids\r\n   )\r\n   ```\r\n\r\n3. **Query statistical data**:\r\n   ```python\r\n   response = client.observation.fetch(\r\n       variable_dcids=[\"Count_Person\", \"UnemploymentRate_Person\"],\r\n       entity_dcids=dcids,\r\n       date=\"latest\"\r\n   )\r\n   ```\r\n\r\n4. **Process results**:\r\n   ```python\r\n   # As dictionary\r\n   data = response.to_dict()\r\n\r\n   # As Pandas DataFrame\r\n   df = response.to_observations_as_records()\r\n   ```",
    "Tips for Effective Use": "1. **Always start with resolution**: Convert names to DCIDs before querying data\r\n2. **Use relation expressions for hierarchies**: Query all children at once instead of individual queries\r\n3. **Check data availability first**: Use `fetch_available_statistical_variables()` to see what's queryable\r\n4. **Leverage Pandas integration**: Convert responses to DataFrames for analysis\r\n5. **Cache resolutions**: If querying the same entities repeatedly, store nameâ†’DCID mappings\r\n6. **Filter by facet for consistency**: Use `filter_facet_domains` to ensure data from the same source\r\n7. **Read reference docs**: Each endpoint has extensive documentation in the `references/` directory",
    "Core Capabilities": "response = client.resolve.fetch_dcids_by_wikidata_id(\r\n    wikidata_ids=[\"Q30\", \"Q99\"]\r\n)\r\n```",
    "Finding Statistical Variables": "```",
    "API Authentication": "**For datacommons.org (default):**\r\n- An API key is required\r\n- Set via environment variable: `export DC_API_KEY=\"your_key\"`\r\n- Or pass when initializing: `client = DataCommonsClient(api_key=\"your_key\")`\r\n- Request keys at: https://apikeys.datacommons.org/\r\n\r\n**For custom Data Commons instances:**\r\n- No API key required\r\n- Specify custom endpoint: `client = DataCommonsClient(url=\"https://custom.datacommons.org\")`"
  }
}