{
  "description": "|",
  "metadata": {
    "allowedTools": "[\"Read\", \"Write\", \"Edit\", \"Bash\", \"Glob\", \"Grep\"]",
    "license": "MIT"
  },
  "references": {
    "files": [
      "references/next-16-migration-guide.md",
      "references/top-errors.md"
    ]
  },
  "content": "**Version**: Next.js 16.0.0\r\n**React Version**: 19.2.0\r\n**Node.js**: 20.9+\r\n**Last Verified**: 2025-10-24\r\n\r\n---\r\n\r\n\r\n**IMPORTANT**: Next.js 16 introduces multiple breaking changes. Read this section carefully if migrating from Next.js 15 or earlier.\r\n\r\n### 1. Async Route Parameters (BREAKING)\r\n\r\n**Breaking Change**: `params`, `searchParams`, `cookies()`, `headers()`, `draftMode()` are now **async** and must be awaited.\r\n\r\n**Before (Next.js 15)**:\r\n```typescript\r\n// ❌ This no longer works in Next.js 16\r\nexport default function Page({ params, searchParams }: {\r\n  params: { slug: string }\r\n  searchParams: { query: string }\r\n}) {\r\n  const slug = params.slug // ❌ Error: params is a Promise\r\n  const query = searchParams.query // ❌ Error: searchParams is a Promise\r\n  return <div>{slug}</div>\r\n}\r\n```\r\n\r\n**After (Next.js 16)**:\r\n```typescript\r\n// ✅ Correct: await params and searchParams\r\nexport default async function Page({ params, searchParams }: {\r\n  params: Promise<{ slug: string }>\r\n  searchParams: Promise<{ query: string }>\r\n}) {\r\n  const { slug } = await params // ✅ Await the promise\r\n  const { query } = await searchParams // ✅ Await the promise\r\n  return <div>{slug}</div>\r\n}\r\n```\r\n\r\n**Applies to**:\r\n- `params` in pages, layouts, route handlers\r\n- `searchParams` in pages\r\n- `cookies()` from `next/headers`\r\n- `headers()` from `next/headers`\r\n- `draftMode()` from `next/headers`\r\n\r\n**Migration**:\r\n```typescript\r\n// ❌ Before\r\nimport { cookies, headers } from 'next/headers'\r\n\r\nexport function MyComponent() {\r\n  const cookieStore = cookies() // ❌ Sync access\r\n  const headersList = headers() // ❌ Sync access\r\n}\r\n\r\n// ✅ After\r\nimport { cookies, headers } from 'next/headers'\r\n\r\nexport async function MyComponent() {\r\n  const cookieStore = await cookies() // ✅ Async access\r\n  const headersList = await headers() // ✅ Async access\r\n}\r\n```\r\n\r\n**Codemod**: Run `npx @next/codemod@canary upgrade latest` to automatically migrate.\r\n\r\n**See Template**: `templates/app-router-async-params.tsx`\r\n\r\n---\r\n\r\n### 2. Middleware → Proxy Migration (BREAKING)\r\n\r\n**Breaking Change**: `middleware.ts` is **deprecated** in Next.js 16. Use `proxy.ts` instead.\r\n\r\n**Why the Change**: `proxy.ts` makes the network boundary explicit by running on Node.js runtime (not Edge runtime). This provides better clarity between edge middleware and server-side proxies.\r\n\r\n**Migration Steps**:\r\n\r\n1. **Rename file**: `middleware.ts` → `proxy.ts`\r\n2. **Rename function**: `middleware` → `proxy`\r\n3. **Update config**: `matcher` → `config.matcher` (same syntax)\r\n\r\n**Before (Next.js 15)**:\r\n```typescript\r\n// middleware.ts ❌ Deprecated in Next.js 16\r\nimport { NextResponse } from 'next/server'\r\nimport type { NextRequest } from 'next/server'\r\n\r\nexport function middleware(request: NextRequest) {\r\n  const response = NextResponse.next()\r\n  response.headers.set('x-custom-header', 'value')\r\n  return response\r\n}\r\n\r\nexport const config = {\r\n  matcher: '/api/:path*',\r\n}\r\n```\r\n\r\n**After (Next.js 16)**:\r\n```typescript\r\n// proxy.ts ✅ New in Next.js 16\r\nimport { NextResponse } from 'next/server'\r\nimport type { NextRequest } from 'next/server'\r\n\r\nexport function proxy(request: NextRequest) {\r\n  const response = NextResponse.next()\r\n  response.headers.set('x-custom-header', 'value')\r\n  return response\r\n}\r\n\r\nexport const config = {\r\n  matcher: '/api/:path*',\r\n}\r\n```\r\n\r\n**Note**: `middleware.ts` still works in Next.js 16 but is deprecated. Migrate to `proxy.ts` for future compatibility.\r\n\r\n**See Template**: `templates/proxy-migration.ts`\r\n**See Reference**: `references/proxy-vs-middleware.md`\r\n\r\n---\r\n\r\n### 3. Parallel Routes Require `default.js` (BREAKING)\r\n\r\n**Breaking Change**: Parallel routes now **require** explicit `default.js` files. Without them, routes will fail during soft navigation.\r\n\r\n**Structure**:\r\n```\r\napp/\r\n├── @auth/\r\n│   ├── login/\r\n│   │   └── page.tsx\r\n│   └── default.tsx    ← REQUIRED in Next.js 16\r\n├── @dashboard/\r\n│   ├── overview/\r\n│   │   └── page.tsx\r\n│   └── default.tsx    ← REQUIRED in Next.js 16\r\n└── layout.tsx\r\n```\r\n\r\n**Layout**:\r\n```typescript\r\n// app/layout.tsx\r\nexport default function Layout({\r\n  children,\r\n  auth,\r\n  dashboard,\r\n}: {\r\n  children: React.ReactNode\r\n  auth: React.ReactNode\r\n  dashboard: React.ReactNode\r\n}) {\r\n  return (\r\n    <html>\r\n      <body>\r\n        {auth}\r\n        {dashboard}\r\n        {children}\r\n      </body>\r\n    </html>\r\n  )\r\n}\r\n```\r\n\r\n**Default Fallback** (REQUIRED):\r\n```typescript\r\n// app/@auth/default.tsx\r\nexport default function AuthDefault() {\r\n  return null // or <Skeleton /> or redirect\r\n}\r\n\r\n// app/@dashboard/default.tsx\r\nexport default function DashboardDefault() {\r\n  return null\r\n}\r\n```\r\n\r\n**Why Required**: Next.js 16 changed how parallel routes handle soft navigation. Without `default.js`, unmatched slots will error during client-side navigation.\r\n\r\n**See Template**: `templates/parallel-routes-with-default.tsx`\r\n\r\n---\r\n\r\n### 4. Removed Features (BREAKING)\r\n\r\n**The following features are REMOVED in Next.js 16**:\r\n\r\n1. **AMP Support** - Entirely removed. Migrate to standard pages.\r\n2. **`next lint` command** - Use ESLint or Biome directly.\r\n3. **`serverRuntimeConfig` and `publicRuntimeConfig`** - Use environment variables instead.\r\n4. **`experimental.ppr` flag** - Evolved into Cache Components. Use `\"use cache\"` directive.\r\n5. **Automatic `scroll-behavior: smooth`** - Add manually if needed.\r\n6. **Node.js 18 support** - Minimum version is now **20.9+**.\r\n\r\n**Migration**:\r\n- **AMP**: Convert AMP pages to standard pages or use separate AMP implementation.\r\n- **Linting**: Run `npx eslint .` or `npx biome lint .` directly.\r\n- **Config**: Replace `serverRuntimeConfig` with `process.env.VARIABLE`.\r\n- **PPR**: Migrate from `experimental.ppr` to `\"use cache\"` directive (see Cache Components section).\r\n\r\n---\r\n\r\n### 5. Version Requirements (BREAKING)\r\n\r\n**Next.js 16 requires**:\r\n\r\n- **Node.js**: 20.9+ (Node.js 18 no longer supported)\r\n- **TypeScript**: 5.1+ (if using TypeScript)\r\n- **React**: 19.2+ (automatically installed with Next.js 16)\r\n- **Browsers**: Chrome 111+, Safari 16.4+, Firefox 109+, Edge 111+\r\n\r\n**Check Versions**:\r\n```bash\r\nnode --version    # Should be 20.9+\r\nnpm --version     # Should be 10+\r\nnpx next --version # Should be 16.0.0+\r\n```\r\n\r\n**Upgrade Node.js**:\r\n```bash\r\nnvm install 20\r\nnvm use 20\r\nnvm alias default 20\r\n\r\nbrew install node@20\r\n\r\n\r\n### 1. Error: `params` is a Promise\r\n\r\n**Error**:\r\n```\r\nType 'Promise<{ id: string }>' is not assignable to type '{ id: string }'\r\n```\r\n\r\n**Cause**: Next.js 16 changed `params` to async.\r\n\r\n**Solution**: Await `params`:\r\n```typescript\r\n// ❌ Before\r\nexport default function Page({ params }: { params: { id: string } }) {\r\n  const id = params.id\r\n}\r\n\r\n// ✅ After\r\nexport default async function Page({ params }: { params: Promise<{ id: string }> }) {\r\n  const { id } = await params\r\n}\r\n```\r\n\r\n---\r\n\r\n### 2. Error: `searchParams` is a Promise\r\n\r\n**Error**:\r\n```\r\nProperty 'query' does not exist on type 'Promise<{ query: string }>'\r\n```\r\n\r\n**Cause**: `searchParams` is now async in Next.js 16.\r\n\r\n**Solution**:\r\n```typescript\r\n// ❌ Before\r\nexport default function Page({ searchParams }: { searchParams: { query: string } }) {\r\n  const query = searchParams.query\r\n}\r\n\r\n// ✅ After\r\nexport default async function Page({ searchParams }: { searchParams: Promise<{ query: string }> }) {\r\n  const { query } = await searchParams\r\n}\r\n```\r\n\r\n---\r\n\r\n### 3. Error: `cookies()` requires await\r\n\r\n**Error**:\r\n```\r\n'cookies' implicitly has return type 'any'\r\n```\r\n\r\n**Cause**: `cookies()` is now async in Next.js 16.\r\n\r\n**Solution**:\r\n```typescript\r\n// ❌ Before\r\nimport { cookies } from 'next/headers'\r\n\r\nexport function MyComponent() {\r\n  const cookieStore = cookies()\r\n}\r\n\r\n// ✅ After\r\nimport { cookies } from 'next/headers'\r\n\r\nexport async function MyComponent() {\r\n  const cookieStore = await cookies()\r\n}\r\n```\r\n\r\n---\r\n\r\n### 4. Error: Parallel route missing `default.js`\r\n\r\n**Error**:\r\n```\r\nError: Parallel route @modal/login was matched but no default.js was found\r\n```\r\n\r\n**Cause**: Next.js 16 requires `default.js` for all parallel routes.\r\n\r\n**Solution**: Add `default.tsx` files:\r\n```typescript\r\n// app/@modal/default.tsx\r\nexport default function ModalDefault() {\r\n  return null\r\n}\r\n```\r\n\r\n---\r\n\r\n### 5. Error: `revalidateTag()` requires 2 arguments\r\n\r\n**Error**:\r\n```\r\nExpected 2 arguments, but got 1\r\n```\r\n\r\n**Cause**: `revalidateTag()` now requires a `cacheLife` argument in Next.js 16.\r\n\r\n**Solution**:\r\n```typescript\r\n// ❌ Before\r\nrevalidateTag('posts')\r\n\r\n// ✅ After\r\nrevalidateTag('posts', 'max')\r\n```\r\n\r\n---\r\n\r\n### 6. Error: Cannot use React hooks in Server Component\r\n\r\n**Error**:\r\n```\r\nYou're importing a component that needs useState. It only works in a Client Component\r\n```\r\n\r\n**Cause**: Using React hooks in Server Component.\r\n\r\n**Solution**: Add `'use client'` directive:\r\n```typescript\r\n// ✅ Add 'use client' at the top\r\n'use client'\r\n\r\nimport { useState } from 'react'\r\n\r\nexport function Counter() {\r\n  const [count, setCount] = useState(0)\r\n  return <button onClick={() => setCount(count + 1)}>{count}</button>\r\n}\r\n```\r\n\r\n---\r\n\r\n### 7. Error: `middleware.ts` is deprecated\r\n\r\n**Warning**:\r\n```\r\nWarning: middleware.ts is deprecated. Use proxy.ts instead.\r\n```\r\n\r\n**Solution**: Migrate to `proxy.ts`:\r\n```typescript\r\n// Rename: middleware.ts → proxy.ts\r\n// Rename function: middleware → proxy\r\n\r\nexport function proxy(request: NextRequest) {\r\n  // Same logic\r\n}\r\n```\r\n\r\n---\r\n\r\n### 8. Error: Turbopack build failure\r\n\r\n**Error**:\r\n```\r\nError: Failed to compile with Turbopack\r\n```\r\n\r\n**Cause**: Turbopack is now default in Next.js 16.\r\n\r\n**Solution**: Opt out of Turbopack if incompatible:\r\n```bash\r\nnpm run build -- --webpack\r\n```\r\n\r\n---\r\n\r\n### 9. Error: Invalid `next/image` src\r\n\r\n**Error**:\r\n```\r\nInvalid src prop (https://example.com/image.jpg) on `next/image`. Hostname \"example.com\" is not configured under images in your `next.config.js`\r\n```\r\n\r\n**Solution**: Add remote patterns in `next.config.ts`:\r\n```typescript\r\nconst config: NextConfig = {\r\n  images: {\r\n    remotePatterns: [\r\n      {\r\n        protocol: 'https',\r\n        hostname: 'example.com',\r\n      },\r\n    ],\r\n  },\r\n}\r\n```\r\n\r\n---\r\n\r\n### 10. Error: Cannot import Server Component into Client Component\r\n\r\n**Error**:\r\n```\r\nYou're importing a Server Component into a Client Component\r\n```\r\n\r\n**Solution**: Pass Server Component as children:\r\n```typescript\r\n// ❌ Wrong\r\n'use client'\r\nimport { ServerComponent } from './server-component' // Error\r\n\r\nexport function ClientComponent() {\r\n  return <ServerComponent />\r\n}\r\n\r\n// ✅ Correct\r\n'use client'\r\n\r\nexport function ClientComponent({ children }: { children: React.ReactNode }) {\r\n  return <div>{children}</div>\r\n}\r\n\r\n// Usage\r\n<ClientComponent>\r\n  <ServerComponent /> {/* Pass as children */}\r\n</ClientComponent>\r\n```\r\n\r\n---\r\n\r\n### 11. Error: `generateStaticParams` not working\r\n\r\n**Cause**: `generateStaticParams` only works with static generation (`export const dynamic = 'force-static'`).\r\n\r\n**Solution**:\r\n```typescript\r\nexport const dynamic = 'force-static'\r\n\r\nexport async function generateStaticParams() {\r\n  const posts = await fetch('/api/posts').then(r => r.json())\r\n  return posts.map((post: { id: string }) => ({ id: post.id }))\r\n}\r\n```\r\n\r\n---\r\n\r\n### 12. Error: `fetch()` not caching\r\n\r\n**Cause**: Next.js 16 uses opt-in caching with `\"use cache\"` directive.\r\n\r\n**Solution**: Add `\"use cache\"` to component or function:\r\n```typescript\r\n'use cache'\r\n\r\nexport async function getPosts() {\r\n  const response = await fetch('/api/posts')\r\n  return response.json()\r\n}\r\n```\r\n\r\n---\r\n\r\n### 13. Error: Route collision with Route Groups\r\n\r\n**Error**:\r\n```\r\nError: Conflicting routes: /about and /(marketing)/about\r\n```\r\n\r\n**Cause**: Route groups create same URL path.\r\n\r\n**Solution**: Ensure route groups don't conflict:\r\n```\r\napp/\r\n├── (marketing)/about/page.tsx  → /about\r\n└── (shop)/about/page.tsx       → ERROR: Duplicate /about\r\n\r\napp/\r\n├── (marketing)/about/page.tsx     → /about\r\n└── (shop)/store-info/page.tsx     → /store-info\r\n```\r\n\r\n---\r\n\r\n### 14. Error: Metadata not updating\r\n\r\n**Cause**: Using dynamic metadata without `generateMetadata()`.\r\n\r\n**Solution**: Use `generateMetadata()` for dynamic pages:\r\n```typescript\r\nexport async function generateMetadata({ params }: { params: Promise<{ id: string }> }): Promise<Metadata> {\r\n  const { id } = await params\r\n  const post = await fetch(`/api/posts/${id}`).then(r => r.json())\r\n\r\n  return {\r\n    title: post.title,\r\n    description: post.excerpt,\r\n  }\r\n}\r\n```\r\n\r\n---\r\n\r\n### 15. Error: `next/font` font not loading\r\n\r\n**Cause**: Font variable not applied to HTML element.\r\n\r\n**Solution**: Apply font variable to `<html>` or `<body>`:\r\n```typescript\r\nimport { Inter } from 'next/font/google'\r\n\r\nconst inter = Inter({ subsets: ['latin'], variable: '--font-inter' })\r\n\r\nexport default function RootLayout({ children }: { children: React.ReactNode }) {\r\n  return (\r\n    <html className={inter.variable}> {/* ✅ Apply variable */}\r\n      <body>{children}</body>\r\n    </html>\r\n  )\r\n}\r\n```\r\n\r\n---\r\n\r\n### 16. Error: Environment variables not available in browser\r\n\r\n**Cause**: Server-only env vars are not exposed to browser.\r\n\r\n**Solution**: Prefix with `NEXT_PUBLIC_` for client-side access:\r\n```bash",
  "name": "nextjs",
  "id": "nextjs",
  "sections": {
    "Parallel Routes & Route Groups": "### 1. Parallel Routes\r\n\r\n**Use Case**: Render multiple pages in the same layout (e.g., modal + main content, dashboard panels).\r\n\r\n**Structure**:\r\n```\r\napp/\r\n├── @modal/\r\n│   ├── login/\r\n│   │   └── page.tsx\r\n│   └── default.tsx  ← REQUIRED in Next.js 16\r\n├── @feed/\r\n│   ├── trending/\r\n│   │   └── page.tsx\r\n│   └── default.tsx  ← REQUIRED in Next.js 16\r\n└── layout.tsx\r\n```\r\n\r\n**Layout**:\r\n```typescript\r\n// app/layout.tsx\r\nexport default function Layout({\r\n  children,\r\n  modal,\r\n  feed,\r\n}: {\r\n  children: React.ReactNode\r\n  modal: React.ReactNode\r\n  feed: React.ReactNode\r\n}) {\r\n  return (\r\n    <html>\r\n      <body>\r\n        {modal}\r\n        <main>\r\n          {children}\r\n          <aside>{feed}</aside>\r\n        </main>\r\n      </body>\r\n    </html>\r\n  )\r\n}\r\n```\r\n\r\n**Default Files (REQUIRED)**:\r\n```typescript\r\n// app/@modal/default.tsx\r\nexport default function ModalDefault() {\r\n  return null\r\n}\r\n\r\n// app/@feed/default.tsx\r\nexport default function FeedDefault() {\r\n  return <div>Default Feed</div>\r\n}\r\n```\r\n\r\n**See Template**: `templates/parallel-routes-with-default.tsx`\r\n\r\n---\r\n\r\n### 2. Route Groups\r\n\r\n**Use Case**: Organize routes without affecting URL structure.\r\n\r\n**Structure**:\r\n```\r\napp/\r\n├── (marketing)/\r\n│   ├── about/\r\n│   │   └── page.tsx       → /about\r\n│   └── contact/\r\n│       └── page.tsx       → /contact\r\n├── (shop)/\r\n│   ├── products/\r\n│   │   └── page.tsx       → /products\r\n│   └── cart/\r\n│       └── page.tsx       → /cart\r\n└── layout.tsx\r\n```\r\n\r\n**Different Layouts per Group**:\r\n```\r\napp/\r\n├── (marketing)/\r\n│   ├── layout.tsx          ← Marketing layout\r\n│   └── about/page.tsx\r\n├── (shop)/\r\n│   ├── layout.tsx          ← Shop layout\r\n│   └── products/page.tsx\r\n└── layout.tsx              ← Root layout\r\n```\r\n\r\n**See Reference**: `references/app-router-fundamentals.md`\r\n\r\n---",
    "Server Actions": "Server Actions are asynchronous functions that run on the server. They enable server-side mutations, form handling, and data revalidation.\r\n\r\n### 1. Server Action Basics\r\n\r\n**Definition**: Add `'use server'` directive to create a Server Action.\r\n\r\n**File-level Server Actions**:\r\n```typescript\r\n// app/actions.ts\r\n'use server'\r\n\r\nexport async function createPost(formData: FormData) {\r\n  const title = formData.get('title') as string\r\n  const content = formData.get('content') as string\r\n\r\n  // Mutate database\r\n  await db.posts.create({ title, content })\r\n\r\n  // Revalidate cache\r\n  revalidateTag('posts', 'max')\r\n}\r\n```\r\n\r\n**Inline Server Actions**:\r\n```typescript\r\n// app/posts/new/page.tsx\r\nexport default function NewPostPage() {\r\n  async function createPost(formData: FormData) {\r\n    'use server'\r\n\r\n    const title = formData.get('title') as string\r\n    const content = formData.get('content') as string\r\n\r\n    await db.posts.create({ title, content })\r\n    revalidateTag('posts', 'max')\r\n  }\r\n\r\n  return (\r\n    <form action={createPost}>\r\n      <input name=\"title\" />\r\n      <textarea name=\"content\" />\r\n      <button type=\"submit\">Create Post</button>\r\n    </form>\r\n  )\r\n}\r\n```\r\n\r\n**See Template**: `templates/server-actions-form.tsx`\r\n\r\n---\r\n\r\n### 2. Form Handling\r\n\r\n**Basic Form**:\r\n```typescript\r\n// app/components/create-post-form.tsx\r\nimport { createPost } from '@/app/actions'\r\n\r\nexport function CreatePostForm() {\r\n  return (\r\n    <form action={createPost}>\r\n      <label>\r\n        Title:\r\n        <input type=\"text\" name=\"title\" required />\r\n      </label>\r\n\r\n      <label>\r\n        Content:\r\n        <textarea name=\"content\" required />\r\n      </label>\r\n\r\n      <button type=\"submit\">Create Post</button>\r\n    </form>\r\n  )\r\n}\r\n```\r\n\r\n**With Loading State** (useFormStatus):\r\n```typescript\r\n'use client'\r\n\r\nimport { useFormStatus } from 'react-dom'\r\nimport { createPost } from '@/app/actions'\r\n\r\nfunction SubmitButton() {\r\n  const { pending } = useFormStatus()\r\n\r\n  return (\r\n    <button type=\"submit\" disabled={pending}>\r\n      {pending ? 'Creating...' : 'Create Post'}\r\n    </button>\r\n  )\r\n}\r\n\r\nexport function CreatePostForm() {\r\n  return (\r\n    <form action={createPost}>\r\n      <input type=\"text\" name=\"title\" required />\r\n      <textarea name=\"content\" required />\r\n      <SubmitButton />\r\n    </form>\r\n  )\r\n}\r\n```\r\n\r\n**With Validation**:\r\n```typescript\r\n// app/actions.ts\r\n'use server'\r\n\r\nimport { z } from 'zod'\r\nimport { redirect } from 'next/navigation'\r\n\r\nconst PostSchema = z.object({\r\n  title: z.string().min(3, 'Title must be at least 3 characters'),\r\n  content: z.string().min(10, 'Content must be at least 10 characters'),\r\n})\r\n\r\nexport async function createPost(formData: FormData) {\r\n  const rawData = {\r\n    title: formData.get('title'),\r\n    content: formData.get('content'),\r\n  }\r\n\r\n  // Validate\r\n  const parsed = PostSchema.safeParse(rawData)\r\n\r\n  if (!parsed.success) {\r\n    return {\r\n      errors: parsed.error.flatten().fieldErrors,\r\n    }\r\n  }\r\n\r\n  // Mutate\r\n  await db.posts.create(parsed.data)\r\n\r\n  // Revalidate and redirect\r\n  revalidateTag('posts', 'max')\r\n  redirect('/posts')\r\n}\r\n```\r\n\r\n**See Template**: `templates/server-actions-form.tsx`\r\n**See Reference**: `references/server-actions-guide.md`\r\n\r\n---\r\n\r\n### 3. Error Handling\r\n\r\n**Pattern**: Return error objects from Server Actions, handle in Client Components.\r\n\r\n**Server Action**:\r\n```typescript\r\n// app/actions.ts\r\n'use server'\r\n\r\nexport async function deletePost(id: string) {\r\n  try {\r\n    await db.posts.delete({ where: { id } })\r\n    revalidateTag('posts', 'max')\r\n    return { success: true }\r\n  } catch (error) {\r\n    return {\r\n      success: false,\r\n      error: 'Failed to delete post. Please try again.'\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n**Client Component**:\r\n```typescript\r\n'use client'\r\n\r\nimport { useState } from 'react'\r\nimport { deletePost } from '@/app/actions'\r\n\r\nexport function DeleteButton({ postId }: { postId: string }) {\r\n  const [error, setError] = useState<string | null>(null)\r\n\r\n  async function handleDelete() {\r\n    const result = await deletePost(postId)\r\n\r\n    if (!result.success) {\r\n      setError(result.error)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <button onClick={handleDelete}>Delete Post</button>\r\n      {error && <p className=\"error\">{error}</p>}\r\n    </div>\r\n  )\r\n}\r\n```\r\n\r\n---\r\n\r\n### 4. Optimistic Updates\r\n\r\n**Pattern**: Show UI update immediately, then sync with server.\r\n\r\n```typescript\r\n'use client'\r\n\r\nimport { useOptimistic } from 'react'\r\nimport { likePost } from '@/app/actions'\r\n\r\nexport function LikeButton({ postId, initialLikes }: { postId: string; initialLikes: number }) {\r\n  const [optimisticLikes, addOptimisticLike] = useOptimistic(\r\n    initialLikes,\r\n    (state, amount: number) => state + amount\r\n  )\r\n\r\n  async function handleLike() {\r\n    // Update UI immediately\r\n    addOptimisticLike(1)\r\n\r\n    // Sync with server\r\n    await likePost(postId)\r\n  }\r\n\r\n  return (\r\n    <button onClick={handleLike}>\r\n      ❤️ {optimisticLikes} likes\r\n    </button>\r\n  )\r\n}\r\n```\r\n\r\n**See Reference**: `references/server-actions-guide.md`\r\n\r\n---",
    "Additional Resources": "**Bundled References** (in `references/`):\r\n- `next-16-migration-guide.md` - Complete migration from Next.js 15 to 16\r\n- `cache-components-guide.md` - Cache Components deep dive\r\n- `proxy-vs-middleware.md` - Proxy.ts vs middleware.ts comparison\r\n- `async-route-params.md` - Async params, searchParams, cookies(), headers()\r\n- `app-router-fundamentals.md` - App Router concepts and patterns\r\n- `server-components-patterns.md` - Server Components best practices\r\n- `server-actions-guide.md` - Server Actions patterns and validation\r\n- `route-handlers-reference.md` - Route Handlers API reference\r\n- `metadata-api-guide.md` - Metadata API complete guide\r\n- `performance-optimization.md` - Performance patterns and Turbopack\r\n- `react-19-integration.md` - React 19.2 features in Next.js\r\n- `top-errors.md` - 18+ common errors and solutions\r\n\r\n**Scripts**:\r\n- `scripts/check-versions.sh` - Verify Next.js and dependency versions\r\n\r\n**External Documentation**:\r\n- **Next.js 16 Blog**: https://nextjs.org/blog/next-16\r\n- **Next.js Docs**: https://nextjs.org/docs\r\n- **React Docs**: https://react.dev\r\n- **Context7 MCP**: Use `/websites/nextjs` for latest Next.js reference\r\n\r\n---",
    "Metadata API": "The Metadata API provides type-safe SEO and social sharing metadata.\r\n\r\n### 1. Static Metadata\r\n\r\n**Pattern**: Export `metadata` object from page or layout.\r\n\r\n```typescript\r\n// app/page.tsx\r\nimport type { Metadata } from 'next'\r\n\r\nexport const metadata: Metadata = {\r\n  title: 'My App',\r\n  description: 'Welcome to my app',\r\n  openGraph: {\r\n    title: 'My App',\r\n    description: 'Welcome to my app',\r\n    images: ['/og-image.jpg'],\r\n  },\r\n  twitter: {\r\n    card: 'summary_large_image',\r\n    title: 'My App',\r\n    description: 'Welcome to my app',\r\n    images: ['/twitter-image.jpg'],\r\n  },\r\n}\r\n\r\nexport default function Page() {\r\n  return <h1>Home</h1>\r\n}\r\n```\r\n\r\n---\r\n\r\n### 2. Dynamic Metadata\r\n\r\n**Pattern**: Export `generateMetadata` async function.\r\n\r\n```typescript\r\n// app/posts/[id]/page.tsx\r\nimport type { Metadata } from 'next'\r\n\r\nexport async function generateMetadata({ params }: { params: Promise<{ id: string }> }): Promise<Metadata> {\r\n  const { id } = await params\r\n  const post = await fetch(`/api/posts/${id}`).then(r => r.json())\r\n\r\n  return {\r\n    title: post.title,\r\n    description: post.excerpt,\r\n    openGraph: {\r\n      title: post.title,\r\n      description: post.excerpt,\r\n      images: [post.coverImage],\r\n    },\r\n  }\r\n}\r\n\r\nexport default async function PostPage({ params }: { params: Promise<{ id: string }> }) {\r\n  const { id } = await params\r\n  const post = await fetch(`/api/posts/${id}`).then(r => r.json())\r\n\r\n  return <article>{post.content}</article>\r\n}\r\n```\r\n\r\n---\r\n\r\n### 3. Sitemap\r\n\r\n**File**: `app/sitemap.ts`\r\n\r\n```typescript\r\nimport type { MetadataRoute } from 'next'\r\n\r\nexport default async function sitemap(): Promise<MetadataRoute.Sitemap> {\r\n  const posts = await fetch('/api/posts').then(r => r.json())\r\n\r\n  const postUrls = posts.map((post: { id: string; updatedAt: string }) => ({\r\n    url: `https://example.com/posts/${post.id}`,\r\n    lastModified: post.updatedAt,\r\n    changeFrequency: 'weekly' as const,\r\n    priority: 0.8,\r\n  }))\r\n\r\n  return [\r\n    {\r\n      url: 'https://example.com',\r\n      lastModified: new Date(),\r\n      changeFrequency: 'daily',\r\n      priority: 1,\r\n    },\r\n    ...postUrls,\r\n  ]\r\n}\r\n```\r\n\r\n**See Template**: `templates/metadata-config.ts`\r\n**See Reference**: `references/metadata-api-guide.md`\r\n\r\n---",
    "Performance Patterns": "### 1. Lazy Loading\r\n\r\n**Component Lazy Loading**:\r\n```typescript\r\nimport dynamic from 'next/dynamic'\r\n\r\nconst HeavyComponent = dynamic(() => import('./heavy-component'), {\r\n  loading: () => <div>Loading...</div>,\r\n  ssr: false, // Disable SSR for client-only components\r\n})\r\n\r\nexport default function Page() {\r\n  return (\r\n    <div>\r\n      <h1>My Page</h1>\r\n      <HeavyComponent />\r\n    </div>\r\n  )\r\n}\r\n```\r\n\r\n**Conditional Loading**:\r\n```typescript\r\n'use client'\r\n\r\nimport { useState } from 'react'\r\nimport dynamic from 'next/dynamic'\r\n\r\nconst Chart = dynamic(() => import('./chart'), { ssr: false })\r\n\r\nexport function Dashboard() {\r\n  const [showChart, setShowChart] = useState(false)\r\n\r\n  return (\r\n    <div>\r\n      <button onClick={() => setShowChart(true)}>Show Chart</button>\r\n      {showChart && <Chart />}\r\n    </div>\r\n  )\r\n}\r\n```\r\n\r\n---\r\n\r\n### 2. Code Splitting\r\n\r\n**Route-level Splitting** (automatic):\r\n```\r\napp/\r\n├── page.tsx       → Bundles: /, shared\r\n├── about/\r\n│   └── page.tsx   → Bundles: /about, shared\r\n└── products/\r\n    └── page.tsx   → Bundles: /products, shared\r\n```\r\n\r\n**Component-level Splitting** (with dynamic import):\r\n```typescript\r\nconst Analytics = dynamic(() => import('./analytics'))\r\nconst Comments = dynamic(() => import('./comments'))\r\n\r\nexport default function BlogPost() {\r\n  return (\r\n    <article>\r\n      <h1>Post Title</h1>\r\n      <p>Content...</p>\r\n      <Analytics /> {/* Separate bundle */}\r\n      <Comments />  {/* Separate bundle */}\r\n    </article>\r\n  )\r\n}\r\n```\r\n\r\n---\r\n\r\n### 3. Turbopack (Stable in Next.js 16)\r\n\r\n**Default**: Turbopack is now the default bundler in Next.js 16.\r\n\r\n**Metrics**:\r\n- **2–5× faster production builds**\r\n- **Up to 10× faster Fast Refresh**\r\n\r\n**Opt-out** (if needed):\r\n```bash\r\nnpm run build -- --webpack\r\n```\r\n\r\n**Enable File System Caching** (beta):\r\n```typescript\r\n// next.config.ts\r\nimport type { NextConfig } from 'next'\r\n\r\nconst config: NextConfig = {\r\n  experimental: {\r\n    turbopack: {\r\n      fileSystemCaching: true, // Beta: Persist cache between runs\r\n    },\r\n  },\r\n}\r\n\r\nexport default config\r\n```\r\n\r\n**See Reference**: `references/performance-optimization.md`\r\n\r\n---",
    "Next.js 16 Breaking Changes": "sudo apt update\r\nsudo apt install nodejs npm\r\n```\r\n\r\n---\r\n\r\n### 6. Image Defaults Changed (BREAKING)\r\n\r\n**Next.js 16 changed `next/image` defaults**:\r\n\r\n| Setting | Next.js 15 | Next.js 16 |\r\n|---------|------------|------------|\r\n| **TTL** (cache duration) | 60 seconds | 4 hours |\r\n| **imageSizes** | `[16, 32, 48, 64, 96, 128, 256, 384]` | `[640, 750, 828, 1080, 1200]` (reduced) |\r\n| **qualities** | `[75, 90, 100]` | `[75]` (single quality) |\r\n\r\n**Impact**:\r\n- Images cache longer (4 hours vs 60 seconds)\r\n- Fewer image sizes generated (smaller builds, but less granular)\r\n- Single quality (75) generated instead of multiple\r\n\r\n**Override Defaults** (if needed):\r\n```typescript\r\n// next.config.ts\r\nimport type { NextConfig } from 'next'\r\n\r\nconst config: NextConfig = {\r\n  images: {\r\n    minimumCacheTTL: 60, // Revert to 60 seconds\r\n    deviceSizes: [640, 750, 828, 1080, 1200, 1920], // Add larger sizes\r\n    imageSizes: [16, 32, 48, 64, 96, 128, 256, 384], // Restore old sizes\r\n    formats: ['image/webp'], // Default\r\n  },\r\n}\r\n\r\nexport default config\r\n```\r\n\r\n**See Template**: `templates/image-optimization.tsx`\r\n\r\n---",
    "Token Efficiency": "**Estimated Token Savings**: 65-70%\r\n\r\n**Without Skill** (manual setup from docs):\r\n- Read Next.js 16 migration guide: ~5k tokens\r\n- Read App Router docs: ~8k tokens\r\n- Read Server Actions docs: ~4k tokens\r\n- Read Metadata API docs: ~3k tokens\r\n- Trial-and-error fixes: ~8k tokens\r\n- **Total**: ~28k tokens\r\n\r\n**With Skill**:\r\n- Load skill: ~8k tokens\r\n- Use templates: ~2k tokens\r\n- **Total**: ~10k tokens\r\n- **Savings**: ~18k tokens (~64%)\r\n\r\n**Errors Prevented**: 18+ common mistakes = 100% error prevention\r\n\r\n---",
    "Table of Contents": "1. [When to Use This Skill](#when-to-use-this-skill)\r\n2. [When NOT to Use This Skill](#when-not-to-use-this-skill)\r\n3. [Next.js 16 Breaking Changes](#nextjs-16-breaking-changes)\r\n4. [Cache Components & Caching APIs](#cache-components--caching-apis)\r\n5. [Server Components](#server-components)\r\n6. [Server Actions](#server-actions)\r\n7. [Route Handlers](#route-handlers)\r\n8. [Proxy vs Middleware](#proxy-vs-middleware)\r\n9. [Parallel Routes & Route Groups](#parallel-routes--route-groups)\r\n10. [React 19.2 Features](#react-192-features)\r\n11. [Metadata API](#metadata-api)\r\n12. [Image & Font Optimization](#image--font-optimization)\r\n13. [Performance Patterns](#performance-patterns)\r\n14. [TypeScript Configuration](#typescript-configuration)\r\n15. [Common Errors & Solutions](#common-errors--solutions)\r\n16. [Templates Reference](#templates-reference)\r\n17. [Additional Resources](#additional-resources)\r\n\r\n---",
    "React 19.2 Features": "Next.js 16 integrates React 19.2, which includes new features from React Canary.\r\n\r\n### 1. View Transitions\r\n\r\n**Use Case**: Smooth animations between page transitions.\r\n\r\n```typescript\r\n'use client'\r\n\r\nimport { useRouter } from 'next/navigation'\r\nimport { startTransition } from 'react'\r\n\r\nexport function NavigationLink({ href, children }: { href: string; children: React.ReactNode }) {\r\n  const router = useRouter()\r\n\r\n  function handleClick(e: React.MouseEvent) {\r\n    e.preventDefault()\r\n\r\n    // Wrap navigation in startTransition for View Transitions\r\n    startTransition(() => {\r\n      router.push(href)\r\n    })\r\n  }\r\n\r\n  return <a href={href} onClick={handleClick}>{children}</a>\r\n}\r\n```\r\n\r\n**With CSS View Transitions API**:\r\n```css\r\n/* app/globals.css */\r\n@view-transition {\r\n  navigation: auto;\r\n}\r\n\r\n/* Animate elements with view-transition-name */\r\n.page-title {\r\n  view-transition-name: page-title;\r\n}\r\n```\r\n\r\n**See Template**: `templates/view-transitions-react-19.tsx`\r\n\r\n---\r\n\r\n### 2. `useEffectEvent()` (Experimental)\r\n\r\n**Use Case**: Extract non-reactive logic from `useEffect`.\r\n\r\n```typescript\r\n'use client'\r\n\r\nimport { useEffect, experimental_useEffectEvent as useEffectEvent } from 'react'\r\n\r\nexport function ChatRoom({ roomId }: { roomId: string }) {\r\n  const onConnected = useEffectEvent(() => {\r\n    console.log('Connected to room:', roomId)\r\n  })\r\n\r\n  useEffect(() => {\r\n    const connection = connectToRoom(roomId)\r\n    onConnected() // Non-reactive callback\r\n\r\n    return () => connection.disconnect()\r\n  }, [roomId]) // Only re-run when roomId changes\r\n\r\n  return <div>Chat Room {roomId}</div>\r\n}\r\n```\r\n\r\n**Why Use It**: Prevents unnecessary `useEffect` re-runs when callback dependencies change.\r\n\r\n---\r\n\r\n### 3. React Compiler (Stable)\r\n\r\n**Use Case**: Automatic memoization without `useMemo`, `useCallback`.\r\n\r\n**Enable in next.config.ts**:\r\n```typescript\r\nimport type { NextConfig } from 'next'\r\n\r\nconst config: NextConfig = {\r\n  experimental: {\r\n    reactCompiler: true,\r\n  },\r\n}\r\n\r\nexport default config\r\n```\r\n\r\n**Install Plugin**:\r\n```bash\r\nnpm install babel-plugin-react-compiler\r\n```\r\n\r\n**Example** (no manual memoization needed):\r\n```typescript\r\n'use client'\r\n\r\nexport function ExpensiveList({ items }: { items: string[] }) {\r\n  // React Compiler automatically memoizes this\r\n  const filteredItems = items.filter(item => item.length > 3)\r\n\r\n  return (\r\n    <ul>\r\n      {filteredItems.map(item => (\r\n        <li key={item}>{item}</li>\r\n      ))}\r\n    </ul>\r\n  )\r\n}\r\n```\r\n\r\n**See Reference**: `references/react-19-integration.md`\r\n\r\n---",
    "When to Use This Skill": "Use this skill when you need:\r\n\r\n- **Next.js 16 App Router patterns** (layouts, loading, error boundaries, routing)\r\n- **Server Components** best practices (data fetching, composition, streaming)\r\n- **Server Actions** patterns (forms, mutations, revalidation, error handling)\r\n- **Cache Components** with `\"use cache\"` directive (NEW in Next.js 16)\r\n- **New caching APIs**: `revalidateTag()`, `updateTag()`, `refresh()` (Updated in Next.js 16)\r\n- **Migration from Next.js 15 to 16** (async params, proxy.ts, parallel routes)\r\n- **Route Handlers** (API endpoints, webhooks, streaming responses)\r\n- **Proxy patterns** (`proxy.ts` replaces `middleware.ts` in Next.js 16)\r\n- **Async route params** (`params`, `searchParams`, `cookies()`, `headers()` now async)\r\n- **Parallel routes with default.js** (breaking change in Next.js 16)\r\n- **React 19.2 features** (View Transitions, `useEffectEvent()`, React Compiler)\r\n- **Metadata API** (SEO, Open Graph, Twitter Cards, sitemaps)\r\n- **Image optimization** (`next/image` with updated defaults in Next.js 16)\r\n- **Font optimization** (`next/font` patterns)\r\n- **Turbopack configuration** (stable and default in Next.js 16)\r\n- **Performance optimization** (lazy loading, code splitting, PPR, ISR)\r\n- **TypeScript configuration** (strict mode, path aliases)\r\n\r\n---",
    "Server Components": "Server Components are React components that render on the server. They enable efficient data fetching, reduce client bundle size, and improve performance.\r\n\r\n### 1. Server Component Basics\r\n\r\n**Default Behavior**: All components in the App Router are Server Components by default (unless marked with `'use client'`).\r\n\r\n**Example**:\r\n```typescript\r\n// app/posts/page.tsx (Server Component by default)\r\nexport default async function PostsPage() {\r\n  const posts = await fetch('https://api.example.com/posts').then(r => r.json())\r\n\r\n  return (\r\n    <div>\r\n      {posts.map((post: { id: string; title: string }) => (\r\n        <article key={post.id}>\r\n          <h2>{post.title}</h2>\r\n        </article>\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n```\r\n\r\n**Rules**:\r\n- ✅ Can `await` promises directly in component body\r\n- ✅ Can access `cookies()`, `headers()`, `draftMode()` (with `await`)\r\n- ✅ Can use Node.js APIs (fs, path, etc.)\r\n- ❌ Cannot use browser APIs (window, document, localStorage)\r\n- ❌ Cannot use React hooks (`useState`, `useEffect`, etc.)\r\n- ❌ Cannot use event handlers (`onClick`, `onChange`, etc.)\r\n\r\n---\r\n\r\n### 2. Data Fetching in Server Components\r\n\r\n**Pattern**: Use `async/await` directly in component body.\r\n\r\n```typescript\r\n// app/products/[id]/page.tsx\r\nexport default async function ProductPage({ params }: { params: Promise<{ id: string }> }) {\r\n  const { id } = await params\r\n\r\n  // Fetch data directly in component\r\n  const product = await fetch(`https://api.example.com/products/${id}`)\r\n    .then(r => r.json())\r\n\r\n  return (\r\n    <div>\r\n      <h1>{product.name}</h1>\r\n      <p>{product.description}</p>\r\n      <p>${product.price}</p>\r\n    </div>\r\n  )\r\n}\r\n```\r\n\r\n**Parallel Data Fetching**:\r\n```typescript\r\nexport default async function Dashboard() {\r\n  // Fetch in parallel with Promise.all\r\n  const [user, posts, comments] = await Promise.all([\r\n    fetch('/api/user').then(r => r.json()),\r\n    fetch('/api/posts').then(r => r.json()),\r\n    fetch('/api/comments').then(r => r.json()),\r\n  ])\r\n\r\n  return (\r\n    <div>\r\n      <UserInfo user={user} />\r\n      <PostsList posts={posts} />\r\n      <CommentsList comments={comments} />\r\n    </div>\r\n  )\r\n}\r\n```\r\n\r\n**Sequential Data Fetching** (when needed):\r\n```typescript\r\nexport default async function UserPosts({ params }: { params: Promise<{ userId: string }> }) {\r\n  const { userId } = await params\r\n\r\n  // Fetch user first\r\n  const user = await fetch(`/api/users/${userId}`).then(r => r.json())\r\n\r\n  // Then fetch user's posts (depends on user data)\r\n  const posts = await fetch(`/api/posts?userId=${user.id}`).then(r => r.json())\r\n\r\n  return (\r\n    <div>\r\n      <h1>{user.name}'s Posts</h1>\r\n      <ul>\r\n        {posts.map((post: { id: string; title: string }) => (\r\n          <li key={post.id}>{post.title}</li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n```\r\n\r\n**See Template**: `templates/server-component-streaming.tsx`\r\n\r\n---\r\n\r\n### 3. Streaming with Suspense\r\n\r\n**Pattern**: Wrap slow components in `<Suspense>` to stream content as it loads.\r\n\r\n```typescript\r\nimport { Suspense } from 'react'\r\n\r\n// Fast component (loads immediately)\r\nasync function Header() {\r\n  return <header>My App</header>\r\n}\r\n\r\n// Slow component (takes 2 seconds)\r\nasync function SlowData() {\r\n  await new Promise(resolve => setTimeout(resolve, 2000))\r\n  const data = await fetch('/api/slow-data').then(r => r.json())\r\n  return <div>{data.content}</div>\r\n}\r\n\r\n// Page streams content\r\nexport default function Page() {\r\n  return (\r\n    <div>\r\n      <Header /> {/* Loads immediately */}\r\n\r\n      <Suspense fallback={<div>Loading...</div>}>\r\n        <SlowData /> {/* Streams when ready */}\r\n      </Suspense>\r\n    </div>\r\n  )\r\n}\r\n```\r\n\r\n**When to Use Streaming**:\r\n- Page has slow API calls\r\n- Want to show UI immediately (don't wait for all data)\r\n- Improve perceived performance\r\n\r\n**See Reference**: `references/server-components-patterns.md`\r\n\r\n---\r\n\r\n### 4. Server vs Client Components\r\n\r\n**When to Use Server Components** (default):\r\n- Fetch data from APIs/databases\r\n- Access backend resources (files, environment variables)\r\n- Keep large dependencies on server (reduce bundle size)\r\n- Render static content\r\n\r\n**When to Use Client Components** (`'use client'`):\r\n- Need React hooks (`useState`, `useEffect`, `useContext`)\r\n- Need event handlers (`onClick`, `onChange`, `onSubmit`)\r\n- Need browser APIs (`window`, `localStorage`, `navigator`)\r\n- Need third-party libraries that use browser APIs (charts, maps, etc.)\r\n\r\n**Pattern**: Use Server Components by default, add `'use client'` only when needed.\r\n\r\n```typescript\r\n// app/components/interactive-button.tsx\r\n'use client' // Client Component\r\n\r\nimport { useState } from 'react'\r\n\r\nexport function InteractiveButton() {\r\n  const [count, setCount] = useState(0)\r\n\r\n  return (\r\n    <button onClick={() => setCount(count + 1)}>\r\n      Clicked {count} times\r\n    </button>\r\n  )\r\n}\r\n\r\n// app/page.tsx (Server Component)\r\nimport { InteractiveButton } from './components/interactive-button'\r\n\r\nexport default async function Page() {\r\n  const data = await fetch('/api/data').then(r => r.json())\r\n\r\n  return (\r\n    <div>\r\n      <h1>{data.title}</h1>\r\n      <InteractiveButton /> {/* Client Component inside Server Component */}\r\n    </div>\r\n  )\r\n}\r\n```\r\n\r\n**Composition Rules**:\r\n- ✅ Server Component can import Client Component\r\n- ✅ Client Component can import Client Component\r\n- ✅ Client Component can render Server Component as children (via props)\r\n- ❌ Client Component cannot import Server Component directly\r\n\r\n**See Reference**: `references/server-components-patterns.md`\r\n\r\n---",
    "Maintenance": "**Last Verified**: 2025-10-24\r\n**Next Review**: 2026-01-24 (Quarterly)\r\n**Maintainer**: Jezweb | jeremy@jezweb.net\r\n**Repository**: https://github.com/jezweb/claude-skills\r\n\r\n**Update Triggers**:\r\n- Next.js major/minor releases\r\n- React major releases\r\n- Breaking changes in APIs\r\n- New Turbopack features\r\n\r\n**Version Check**:\r\n```bash\r\ncd skills/nextjs\r\n./scripts/check-versions.sh\r\n```\r\n\r\n---\r\n\r\n**End of SKILL.md**",
    "When NOT to Use This Skill": "Do NOT use this skill for:\r\n\r\n- **Cloudflare Workers deployment** → Use `cloudflare-nextjs` skill instead\r\n- **Pages Router patterns** → This skill covers App Router ONLY (Pages Router is legacy)\r\n- **Authentication libraries** → Use `clerk-auth`, `auth-js`, or other auth-specific skills\r\n- **Database integration** → Use `cloudflare-d1`, `drizzle-orm-d1`, or database-specific skills\r\n- **UI component libraries** → Use `tailwind-v4-shadcn` skill for Tailwind + shadcn/ui\r\n- **State management** → Use `zustand-state-management`, `tanstack-query` skills\r\n- **Form libraries** → Use `react-hook-form-zod` skill\r\n- **Vercel-specific features** → Refer to Vercel platform documentation\r\n- **Next.js Enterprise features** (ISR, DPR) → Refer to Next.js Enterprise docs\r\n- **Deployment configuration** → Use platform-specific deployment skills\r\n\r\n**Relationship with Other Skills**:\r\n- **cloudflare-nextjs**: For deploying Next.js to Cloudflare Workers (use BOTH skills together if deploying to Cloudflare)\r\n- **tailwind-v4-shadcn**: For Tailwind v4 + shadcn/ui setup (composable with this skill)\r\n- **clerk-auth**: For Clerk authentication in Next.js (composable with this skill)\r\n- **auth-js**: For Auth.js (NextAuth) integration (composable with this skill)\r\n\r\n---",
    "Proxy vs Middleware": "**Next.js 16 introduces `proxy.ts`** to replace `middleware.ts`.\r\n\r\n### Why the Change?\r\n\r\n- **`middleware.ts`**: Runs on Edge runtime (limited Node.js APIs)\r\n- **`proxy.ts`**: Runs on Node.js runtime (full Node.js APIs)\r\n\r\nThe new `proxy.ts` makes the network boundary explicit and provides more flexibility.\r\n\r\n### Migration\r\n\r\n**Before (middleware.ts)**:\r\n```typescript\r\n// middleware.ts\r\nimport { NextResponse } from 'next/server'\r\nimport type { NextRequest } from 'next/server'\r\n\r\nexport function middleware(request: NextRequest) {\r\n  // Check auth\r\n  const token = request.cookies.get('token')\r\n\r\n  if (!token) {\r\n    return NextResponse.redirect(new URL('/login', request.url))\r\n  }\r\n\r\n  return NextResponse.next()\r\n}\r\n\r\nexport const config = {\r\n  matcher: '/dashboard/:path*',\r\n}\r\n```\r\n\r\n**After (proxy.ts)**:\r\n```typescript\r\n// proxy.ts\r\nimport { NextResponse } from 'next/server'\r\nimport type { NextRequest } from 'next/server'\r\n\r\nexport function proxy(request: NextRequest) {\r\n  // Check auth\r\n  const token = request.cookies.get('token')\r\n\r\n  if (!token) {\r\n    return NextResponse.redirect(new URL('/login', request.url))\r\n  }\r\n\r\n  return NextResponse.next()\r\n}\r\n\r\nexport const config = {\r\n  matcher: '/dashboard/:path*',\r\n}\r\n```\r\n\r\n**See Template**: `templates/proxy-migration.ts`\r\n**See Reference**: `references/proxy-vs-middleware.md`\r\n\r\n---",
    "Common Errors & Solutions": "SECRET_KEY=abc123                  # Server-only\r\nNEXT_PUBLIC_API_URL=https://api    # Available in browser\r\n```\r\n\r\n```typescript\r\n// Server Component (both work)\r\nconst secret = process.env.SECRET_KEY\r\nconst apiUrl = process.env.NEXT_PUBLIC_API_URL\r\n\r\n// Client Component (only public vars work)\r\nconst apiUrl = process.env.NEXT_PUBLIC_API_URL\r\n```\r\n\r\n---\r\n\r\n### 17. Error: Server Action not found\r\n\r\n**Error**:\r\n```\r\nError: Could not find Server Action\r\n```\r\n\r\n**Cause**: Missing `'use server'` directive.\r\n\r\n**Solution**: Add `'use server'`:\r\n```typescript\r\n// ❌ Before\r\nexport async function createPost(formData: FormData) {\r\n  await db.posts.create({ ... })\r\n}\r\n\r\n// ✅ After\r\n'use server'\r\n\r\nexport async function createPost(formData: FormData) {\r\n  await db.posts.create({ ... })\r\n}\r\n```\r\n\r\n---\r\n\r\n### 18. Error: TypeScript path alias not working\r\n\r\n**Cause**: Incorrect `baseUrl` or `paths` in `tsconfig.json`.\r\n\r\n**Solution**: Configure correctly:\r\n```json\r\n{\r\n  \"compilerOptions\": {\r\n    \"baseUrl\": \".\",\r\n    \"paths\": {\r\n      \"@/*\": [\"./*\"],\r\n      \"@/components/*\": [\"./app/components/*\"]\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n**See Reference**: `references/top-errors.md`\r\n\r\n---",
    "Image & Font Optimization": "### 1. next/image\r\n\r\n**Basic Usage**:\r\n```typescript\r\nimport Image from 'next/image'\r\n\r\nexport function MyImage() {\r\n  return (\r\n    <Image\r\n      src=\"/hero.jpg\"\r\n      alt=\"Hero image\"\r\n      width={1200}\r\n      height={600}\r\n      priority // Load above the fold\r\n    />\r\n  )\r\n}\r\n```\r\n\r\n**Responsive Images**:\r\n```typescript\r\n<Image\r\n  src=\"/hero.jpg\"\r\n  alt=\"Hero\"\r\n  fill\r\n  style={{ objectFit: 'cover' }}\r\n  sizes=\"(max-width: 768px) 100vw, 50vw\"\r\n/>\r\n```\r\n\r\n**Remote Images** (configure in next.config.ts):\r\n```typescript\r\nimport type { NextConfig } from 'next'\r\n\r\nconst config: NextConfig = {\r\n  images: {\r\n    remotePatterns: [\r\n      {\r\n        protocol: 'https',\r\n        hostname: 'cdn.example.com',\r\n        pathname: '/images/**',\r\n      },\r\n    ],\r\n  },\r\n}\r\n\r\nexport default config\r\n```\r\n\r\n**See Template**: `templates/image-optimization.tsx`\r\n\r\n---\r\n\r\n### 2. next/font\r\n\r\n**Google Fonts**:\r\n```typescript\r\n// app/layout.tsx\r\nimport { Inter, Roboto_Mono } from 'next/font/google'\r\n\r\nconst inter = Inter({\r\n  subsets: ['latin'],\r\n  display: 'swap',\r\n  variable: '--font-inter',\r\n})\r\n\r\nconst robotoMono = Roboto_Mono({\r\n  subsets: ['latin'],\r\n  display: 'swap',\r\n  variable: '--font-roboto-mono',\r\n})\r\n\r\nexport default function RootLayout({ children }: { children: React.ReactNode }) {\r\n  return (\r\n    <html lang=\"en\" className={`${inter.variable} ${robotoMono.variable}`}>\r\n      <body>{children}</body>\r\n    </html>\r\n  )\r\n}\r\n```\r\n\r\n**Local Fonts**:\r\n```typescript\r\nimport localFont from 'next/font/local'\r\n\r\nconst myFont = localFont({\r\n  src: './fonts/my-font.woff2',\r\n  display: 'swap',\r\n  variable: '--font-my-font',\r\n})\r\n```\r\n\r\n**See Template**: `templates/font-optimization.tsx`\r\n\r\n---",
    "Cache Components & Caching APIs": "**NEW in Next.js 16**: Cache Components introduce **opt-in caching** with the `\"use cache\"` directive, replacing implicit caching from Next.js 15.\r\n\r\n### 1. Overview\r\n\r\n**What Changed**:\r\n- **Next.js 15**: Implicit caching (all Server Components cached by default)\r\n- **Next.js 16**: Opt-in caching with `\"use cache\"` directive\r\n\r\n**Why the Change**: Explicit caching gives developers more control and makes caching behavior predictable.\r\n\r\n**Cache Components enable**:\r\n- Component-level caching (cache specific components, not entire pages)\r\n- Function-level caching (cache expensive computations)\r\n- Page-level caching (cache entire pages selectively)\r\n- **Partial Prerendering (PPR)** - Cache static parts, render dynamic parts on-demand\r\n\r\n---\r\n\r\n### 2. `\"use cache\"` Directive\r\n\r\n**Syntax**: Add `\"use cache\"` at the top of a Server Component, function, or route handler.\r\n\r\n**Component-level caching**:\r\n```typescript\r\n// app/components/expensive-component.tsx\r\n'use cache'\r\n\r\nexport async function ExpensiveComponent() {\r\n  const data = await fetch('https://api.example.com/data')\r\n  const json = await data.json()\r\n\r\n  return (\r\n    <div>\r\n      <h1>{json.title}</h1>\r\n      <p>{json.description}</p>\r\n    </div>\r\n  )\r\n}\r\n```\r\n\r\n**Function-level caching**:\r\n```typescript\r\n// lib/data.ts\r\n'use cache'\r\n\r\nexport async function getExpensiveData(id: string) {\r\n  const response = await fetch(`https://api.example.com/items/${id}`)\r\n  return response.json()\r\n}\r\n\r\n// Usage in component\r\nimport { getExpensiveData } from '@/lib/data'\r\n\r\nexport async function ProductPage({ params }: { params: Promise<{ id: string }> }) {\r\n  const { id } = await params\r\n  const product = await getExpensiveData(id) // Cached\r\n\r\n  return <div>{product.name}</div>\r\n}\r\n```\r\n\r\n**Page-level caching**:\r\n```typescript\r\n// app/blog/[slug]/page.tsx\r\n'use cache'\r\n\r\nexport async function generateStaticParams() {\r\n  const posts = await fetch('https://api.example.com/posts').then(r => r.json())\r\n  return posts.map((post: { slug: string }) => ({ slug: post.slug }))\r\n}\r\n\r\nexport default async function BlogPost({ params }: { params: Promise<{ slug: string }> }) {\r\n  const { slug } = await params\r\n  const post = await fetch(`https://api.example.com/posts/${slug}`).then(r => r.json())\r\n\r\n  return (\r\n    <article>\r\n      <h1>{post.title}</h1>\r\n      <div>{post.content}</div>\r\n    </article>\r\n  )\r\n}\r\n```\r\n\r\n**See Template**: `templates/cache-component-use-cache.tsx`\r\n\r\n---\r\n\r\n### 3. Partial Prerendering (PPR)\r\n\r\n**PPR** allows caching static parts of a page while rendering dynamic parts on-demand.\r\n\r\n**Pattern**:\r\n```typescript\r\n// app/dashboard/page.tsx\r\n\r\n// Static header (cached)\r\n'use cache'\r\nasync function StaticHeader() {\r\n  return <header>My App</header>\r\n}\r\n\r\n// Dynamic user info (not cached)\r\nasync function DynamicUserInfo() {\r\n  const cookieStore = await cookies()\r\n  const userId = cookieStore.get('userId')?.value\r\n  const user = await fetch(`/api/users/${userId}`).then(r => r.json())\r\n\r\n  return <div>Welcome, {user.name}</div>\r\n}\r\n\r\n// Page combines both\r\nexport default function Dashboard() {\r\n  return (\r\n    <div>\r\n      <StaticHeader /> {/* Cached */}\r\n      <DynamicUserInfo /> {/* Dynamic */}\r\n    </div>\r\n  )\r\n}\r\n```\r\n\r\n**When to Use PPR**:\r\n- Page has both static and dynamic content\r\n- Want to cache layout/header/footer but render user-specific content\r\n- Need fast initial load (static parts) + personalization (dynamic parts)\r\n\r\n**See Reference**: `references/cache-components-guide.md`\r\n\r\n---\r\n\r\n### 4. `revalidateTag()` - Updated API\r\n\r\n**BREAKING CHANGE**: `revalidateTag()` now requires a **second argument** (`cacheLife` profile) for stale-while-revalidate behavior.\r\n\r\n**Before (Next.js 15)**:\r\n```typescript\r\nimport { revalidateTag } from 'next/cache'\r\n\r\nexport async function updatePost(id: string) {\r\n  await fetch(`/api/posts/${id}`, { method: 'PATCH' })\r\n  revalidateTag('posts') // ❌ Only one argument in Next.js 15\r\n}\r\n```\r\n\r\n**After (Next.js 16)**:\r\n```typescript\r\nimport { revalidateTag } from 'next/cache'\r\n\r\nexport async function updatePost(id: string) {\r\n  await fetch(`/api/posts/${id}`, { method: 'PATCH' })\r\n  revalidateTag('posts', 'max') // ✅ Second argument required in Next.js 16\r\n}\r\n```\r\n\r\n**Built-in Cache Life Profiles**:\r\n- `'max'` - Maximum staleness (recommended for most use cases)\r\n- `'hours'` - Stale after hours\r\n- `'days'` - Stale after days\r\n- `'weeks'` - Stale after weeks\r\n- `'default'` - Default cache behavior\r\n\r\n**Custom Cache Life Profile**:\r\n```typescript\r\nrevalidateTag('posts', {\r\n  stale: 3600, // Stale after 1 hour (seconds)\r\n  revalidate: 86400, // Revalidate every 24 hours (seconds)\r\n  expire: false, // Never expire (optional)\r\n})\r\n```\r\n\r\n**Pattern in Server Actions**:\r\n```typescript\r\n'use server'\r\n\r\nimport { revalidateTag } from 'next/cache'\r\n\r\nexport async function createPost(formData: FormData) {\r\n  const title = formData.get('title') as string\r\n  const content = formData.get('content') as string\r\n\r\n  await fetch('/api/posts', {\r\n    method: 'POST',\r\n    body: JSON.stringify({ title, content }),\r\n  })\r\n\r\n  revalidateTag('posts', 'max') // ✅ Revalidate with max staleness\r\n}\r\n```\r\n\r\n**See Template**: `templates/revalidate-tag-cache-life.ts`\r\n\r\n---\r\n\r\n### 5. `updateTag()` - NEW API (Server Actions Only)\r\n\r\n**NEW in Next.js 16**: `updateTag()` provides **read-your-writes semantics** for Server Actions.\r\n\r\n**What it does**:\r\n- Expires cache immediately\r\n- Refreshes data within the same request\r\n- Shows updated data right after mutation (no stale data)\r\n\r\n**Difference from `revalidateTag()`**:\r\n- `revalidateTag()`: **Stale-while-revalidate** (shows stale data, revalidates in background)\r\n- `updateTag()`: **Immediate refresh** (expires cache, fetches fresh data in same request)\r\n\r\n**Use Case**: Forms, user settings, or any mutation where user expects immediate feedback.\r\n\r\n**Pattern**:\r\n```typescript\r\n'use server'\r\n\r\nimport { updateTag } from 'next/cache'\r\n\r\nexport async function updateUserProfile(formData: FormData) {\r\n  const name = formData.get('name') as string\r\n  const email = formData.get('email') as string\r\n\r\n  // Update database\r\n  await db.users.update({ name, email })\r\n\r\n  // Immediately refresh cache (read-your-writes)\r\n  updateTag('user-profile')\r\n\r\n  // User sees updated data immediately (no stale data)\r\n}\r\n```\r\n\r\n**When to Use**:\r\n- **`updateTag()`**: User settings, profile updates, critical mutations (immediate feedback)\r\n- **`revalidateTag()`**: Blog posts, product listings, non-critical updates (background revalidation)\r\n\r\n**See Template**: `templates/server-action-update-tag.ts`\r\n\r\n---\r\n\r\n### 6. `refresh()` - NEW API (Server Actions Only)\r\n\r\n**NEW in Next.js 16**: `refresh()` refreshes **uncached data only** (complements client-side `router.refresh()`).\r\n\r\n**When to Use**:\r\n- Refresh dynamic data without affecting cached data\r\n- Complement `router.refresh()` on server side\r\n\r\n**Pattern**:\r\n```typescript\r\n'use server'\r\n\r\nimport { refresh } from 'next/cache'\r\n\r\nexport async function refreshDashboard() {\r\n  // Refresh uncached data (e.g., real-time metrics)\r\n  refresh()\r\n\r\n  // Cached data (e.g., static header) remains cached\r\n}\r\n```\r\n\r\n**Difference from `revalidateTag()` and `updateTag()`**:\r\n- `refresh()`: Only refreshes **uncached** data\r\n- `revalidateTag()`: Revalidates **specific tagged** data (stale-while-revalidate)\r\n- `updateTag()`: Immediately expires and refreshes **specific tagged** data\r\n\r\n**See Reference**: `references/cache-components-guide.md`\r\n\r\n---",
    "Route Handlers": "Route Handlers are server-side API endpoints in the App Router. They replace API Routes from the Pages Router.\r\n\r\n### 1. Basic Route Handler\r\n\r\n**File**: `app/api/hello/route.ts`\r\n\r\n```typescript\r\nimport { NextResponse } from 'next/server'\r\n\r\nexport async function GET() {\r\n  return NextResponse.json({ message: 'Hello, World!' })\r\n}\r\n\r\nexport async function POST(request: Request) {\r\n  const body = await request.json()\r\n\r\n  return NextResponse.json({\r\n    message: 'Post created',\r\n    data: body\r\n  })\r\n}\r\n```\r\n\r\n**Supported Methods**: `GET`, `POST`, `PUT`, `PATCH`, `DELETE`, `HEAD`, `OPTIONS`\r\n\r\n**See Template**: `templates/route-handler-api.ts`\r\n\r\n---\r\n\r\n### 2. Dynamic Routes\r\n\r\n**File**: `app/api/posts/[id]/route.ts`\r\n\r\n```typescript\r\nimport { NextResponse } from 'next/server'\r\n\r\nexport async function GET(\r\n  request: Request,\r\n  { params }: { params: Promise<{ id: string }> }\r\n) {\r\n  const { id } = await params // ✅ Await params in Next.js 16\r\n\r\n  const post = await db.posts.findUnique({ where: { id } })\r\n\r\n  if (!post) {\r\n    return NextResponse.json(\r\n      { error: 'Post not found' },\r\n      { status: 404 }\r\n    )\r\n  }\r\n\r\n  return NextResponse.json(post)\r\n}\r\n\r\nexport async function DELETE(\r\n  request: Request,\r\n  { params }: { params: Promise<{ id: string }> }\r\n) {\r\n  const { id } = await params\r\n\r\n  await db.posts.delete({ where: { id } })\r\n\r\n  return NextResponse.json({ message: 'Post deleted' })\r\n}\r\n```\r\n\r\n---\r\n\r\n### 3. Search Params\r\n\r\n**URL**: `/api/posts?tag=javascript&limit=10`\r\n\r\n```typescript\r\nimport { NextResponse } from 'next/server'\r\n\r\nexport async function GET(request: Request) {\r\n  const { searchParams } = new URL(request.url)\r\n  const tag = searchParams.get('tag')\r\n  const limit = parseInt(searchParams.get('limit') || '10')\r\n\r\n  const posts = await db.posts.findMany({\r\n    where: { tags: { has: tag } },\r\n    take: limit,\r\n  })\r\n\r\n  return NextResponse.json(posts)\r\n}\r\n```\r\n\r\n---\r\n\r\n### 4. Webhooks\r\n\r\n**Pattern**: Handle incoming webhooks from third-party services.\r\n\r\n```typescript\r\n// app/api/webhooks/stripe/route.ts\r\nimport { NextResponse } from 'next/server'\r\nimport { headers } from 'next/headers'\r\n\r\nexport async function POST(request: Request) {\r\n  const body = await request.text()\r\n  const headersList = await headers() // ✅ Await headers in Next.js 16\r\n  const signature = headersList.get('stripe-signature')\r\n\r\n  // Verify webhook signature\r\n  const event = stripe.webhooks.constructEvent(\r\n    body,\r\n    signature!,\r\n    process.env.STRIPE_WEBHOOK_SECRET!\r\n  )\r\n\r\n  // Handle event\r\n  switch (event.type) {\r\n    case 'payment_intent.succeeded':\r\n      await handlePaymentSuccess(event.data.object)\r\n      break\r\n    case 'payment_intent.failed':\r\n      await handlePaymentFailure(event.data.object)\r\n      break\r\n  }\r\n\r\n  return NextResponse.json({ received: true })\r\n}\r\n```\r\n\r\n**See Template**: `templates/route-handler-api.ts`\r\n**See Reference**: `references/route-handlers-reference.md`\r\n\r\n---",
    "Templates Reference": "The following templates are available in `templates/`:\r\n\r\n**App Router Fundamentals**:\r\n- `app-router-async-params.tsx` - Async params, searchParams patterns (Next.js 16)\r\n- `parallel-routes-with-default.tsx` - Parallel routes with required default.js\r\n- `route-groups-example.tsx` - Route groups organization\r\n\r\n**Cache Components (Next.js 16)**:\r\n- `cache-component-use-cache.tsx` - Cache Components with `\"use cache\"`\r\n- `partial-prerendering.tsx` - PPR with static + dynamic parts\r\n- `revalidate-tag-cache-life.ts` - Updated `revalidateTag()` API\r\n- `server-action-update-tag.ts` - `updateTag()` for read-your-writes\r\n\r\n**Server Components**:\r\n- `server-component-data-fetching.tsx` - Data fetching patterns\r\n- `server-component-streaming.tsx` - Streaming with Suspense\r\n- `server-component-composition.tsx` - Server + Client component composition\r\n\r\n**Server Actions**:\r\n- `server-actions-form.tsx` - Form handling with Server Actions\r\n- `server-actions-validation.ts` - Server Action validation with Zod\r\n- `server-actions-optimistic.tsx` - Optimistic updates\r\n\r\n**Route Handlers**:\r\n- `route-handler-api.ts` - Basic CRUD API\r\n- `route-handler-webhook.ts` - Webhook handling\r\n- `route-handler-streaming.ts` - Streaming responses\r\n\r\n**Proxy & Middleware**:\r\n- `proxy-migration.ts` - Migrate from middleware.ts to proxy.ts\r\n- `proxy-auth.ts` - Auth with proxy.ts\r\n\r\n**React 19.2**:\r\n- `view-transitions-react-19.tsx` - View Transitions API\r\n- `use-effect-event.tsx` - `useEffectEvent()` pattern\r\n- `react-compiler-example.tsx` - React Compiler usage\r\n\r\n**Metadata**:\r\n- `metadata-config.ts` - Static and dynamic metadata\r\n- `sitemap.ts` - Sitemap generation\r\n- `robots.ts` - robots.txt generation\r\n\r\n**Optimization**:\r\n- `image-optimization.tsx` - next/image patterns\r\n- `font-optimization.tsx` - next/font patterns\r\n- `lazy-loading.tsx` - Dynamic imports and lazy loading\r\n- `code-splitting.tsx` - Code splitting strategies\r\n\r\n**TypeScript**:\r\n- `typescript-config.json` - Recommended TypeScript configuration\r\n- `path-aliases.tsx` - Path alias usage\r\n\r\n**Configuration**:\r\n- `next.config.ts` - Full Next.js configuration\r\n- `package.json` - Recommended dependencies for Next.js 16\r\n\r\n---",
    "TypeScript Configuration": "### 1. Strict Mode\r\n\r\n**Enable strict mode** in `tsconfig.json`:\r\n```json\r\n{\r\n  \"compilerOptions\": {\r\n    \"strict\": true,\r\n    \"noUncheckedIndexedAccess\": true,\r\n    \"noImplicitOverride\": true,\r\n    \"esModuleInterop\": true,\r\n    \"skipLibCheck\": true\r\n  }\r\n}\r\n```\r\n\r\n---\r\n\r\n### 2. Path Aliases\r\n\r\n**Configure in tsconfig.json**:\r\n```json\r\n{\r\n  \"compilerOptions\": {\r\n    \"baseUrl\": \".\",\r\n    \"paths\": {\r\n      \"@/*\": [\"./app/*\"],\r\n      \"@/components/*\": [\"./app/components/*\"],\r\n      \"@/lib/*\": [\"./lib/*\"],\r\n      \"@/styles/*\": [\"./styles/*\"]\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n**Usage**:\r\n```typescript\r\n// Instead of: import { Button } from '../../../components/button'\r\nimport { Button } from '@/components/button'\r\n```\r\n\r\n---\r\n\r\n### 3. Type-Safe Routing\r\n\r\n**Generate types from routes**:\r\n```bash\r\nnpm run build\r\n```\r\n\r\n**Usage**:\r\n```typescript\r\nimport { useRouter } from 'next/navigation'\r\n\r\nconst router = useRouter()\r\n\r\n// Type-safe routing\r\nrouter.push('/posts/123') // ✅ Valid route\r\nrouter.push('/invalid')   // ❌ Type error if route doesn't exist\r\n```\r\n\r\n**See Reference**: `references/typescript-configuration.md`\r\n\r\n---",
    "Version Compatibility": "| Package | Minimum Version | Recommended |\r\n|---------|----------------|-------------|\r\n| Next.js | 16.0.0 | 16.0.0+ |\r\n| React | 19.2.0 | 19.2.0+ |\r\n| Node.js | 20.9.0 | 20.9.0+ |\r\n| TypeScript | 5.1.0 | 5.7.0+ |\r\n| Turbopack | (built-in) | Stable |\r\n\r\n**Check Versions**:\r\n```bash\r\n./scripts/check-versions.sh\r\n```\r\n\r\n---"
  }
}