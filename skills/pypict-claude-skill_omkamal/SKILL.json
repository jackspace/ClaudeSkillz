{
  "description": "Design comprehensive test cases using PICT (Pairwise Independent Combinatorial Testing) for any piece of requirements or code. Analyzes inputs, generates PICT models with parameters, values, and constraints for valid scenarios using pairwise testing. Outputs the PICT model, markdown table of test cases, and expected results.",
  "references": {
    "files": [
      "references/examples.md",
      "references/pict_syntax.md",
      "CHANGELOG.md",
      "CONTRIBUTING.md",
      "PUBLISHING.md",
      "QUICKSTART.md",
      "STRUCTURE.md"
    ]
  },
  "content": "This skill enables systematic test case design using PICT (Pairwise Independent Combinatorial Testing). Given requirements or code, it analyzes the system to identify test parameters, generates a PICT model with appropriate constraints, executes the model to generate pairwise test cases, and formats the results with expected outputs.\r\n\r\n\r\nFollow this process for test design:\r\n\r\n### 1. Analyze Requirements or Code\r\n\r\nFrom the user's requirements or code, identify:\r\n- **Parameters**: Input variables, configuration options, environmental factors\r\n- **Values**: Possible values for each parameter (using equivalence partitioning)\r\n- **Constraints**: Business rules, technical limitations, dependencies between parameters\r\n- **Expected Outcomes**: What should happen for different combinations\r\n\r\n**Example Analysis:**\r\n\r\nFor a login function with requirements:\r\n- Users can login with username/password\r\n- Supports 2FA (on/off)\r\n- Remembers login on trusted devices\r\n- Rate limits after 3 failed attempts\r\n\r\nIdentified parameters:\r\n- Credentials: Valid, Invalid\r\n- TwoFactorAuth: Enabled, Disabled\r\n- RememberMe: Checked, Unchecked\r\n- PreviousFailures: 0, 1, 2, 3, 4\r\n\r\n### 2. Generate PICT Model\r\n\r\nCreate a PICT model with:\r\n- Clear parameter names\r\n- Well-defined value sets (using equivalence partitioning and boundary values)\r\n- Constraints for invalid combinations\r\n- Comments explaining business rules\r\n\r\n**Model Structure:**\r\n```\r\nParameterName: Value1, Value2, Value3\r\n\r\nIF [Parameter1] = \"Value\" THEN [Parameter2] <> \"OtherValue\";\r\n```\r\n\r\n**Refer to references/pict_syntax.md for:**\r\n- Complete syntax reference\r\n- Constraint grammar and operators\r\n- Advanced features (sub-models, aliasing, negative testing)\r\n- Command-line options\r\n- Detailed constraint patterns\r\n\r\n**Refer to references/examples.md for:**\r\n- Complete real-world examples by domain\r\n- Software function testing examples\r\n- Web application, API, and mobile testing examples\r\n- Database and configuration testing patterns\r\n- Common patterns for authentication, resource access, error handling\r\n\r\n### 3. Execute PICT Model\r\n\r\nGenerate the PICT model text and format it for the user. You can use Python code directly to work with the model:\r\n\r\n```python\r\nparameters = {\r\n    \"OS\": [\"Windows\", \"Linux\", \"MacOS\"],\r\n    \"Browser\": [\"Chrome\", \"Firefox\", \"Safari\"],\r\n    \"Memory\": [\"4GB\", \"8GB\", \"16GB\"]\r\n}\r\n\r\nconstraints = [\r\n    'IF [OS] = \"MacOS\" THEN [Browser] IN {Safari, Chrome}',\r\n    'IF [Memory] = \"4GB\" THEN [OS] <> \"MacOS\"'\r\n]\r\n\r\nmodel_lines = []\r\nfor param_name, values in parameters.items():\r\n    values_str = \", \".join(values)\r\n    model_lines.append(f\"{param_name}: {values_str}\")\r\n\r\nif constraints:\r\n    model_lines.append(\"\")\r\n    for constraint in constraints:\r\n        if not constraint.endswith(';'):\r\n            constraint += ';'\r\n        model_lines.append(constraint)\r\n\r\nmodel_text = \"\\n\".join(model_lines)\r\nprint(model_text)\r\n```\r\n\r\n**Using the helper script (optional):**\r\nThe `scripts/pict_helper.py` script provides utilities for model generation and output formatting:\r\n\r\n```bash\r\npython scripts/pict_helper.py generate config.json\r\n\r\npython scripts/pict_helper.py format output.txt\r\n\r\n\r\n```\r\nParameter1: Value1, Value2, Value3\r\nParameter2: ValueA, ValueB",
  "name": "pict-test-designer",
  "id": "pypict-claude-skill_omkamal",
  "sections": {
    "Test Case Summary": "- Total test cases: N\r\n- Coverage: Pairwise (all 2-way combinations)\r\n- Constraints applied: N\r\n````",
    "Common Patterns": "### Web Form Testing\r\n\r\n```python\r\nparameters = {\r\n    \"Name\": [\"Valid\", \"Empty\", \"TooLong\"],\r\n    \"Email\": [\"Valid\", \"Invalid\", \"Empty\"],\r\n    \"Password\": [\"Strong\", \"Weak\", \"Empty\"],\r\n    \"Terms\": [\"Accepted\", \"NotAccepted\"]\r\n}\r\n\r\nconstraints = [\r\n    'IF [Terms] = \"NotAccepted\" THEN [Name] = \"Valid\"',  # Test validation even if terms not accepted\r\n]\r\n```\r\n\r\n### API Endpoint Testing\r\n\r\n```python\r\nparameters = {\r\n    \"HTTPMethod\": [\"GET\", \"POST\", \"PUT\", \"DELETE\"],\r\n    \"Authentication\": [\"Valid\", \"Invalid\", \"Missing\"],\r\n    \"ContentType\": [\"JSON\", \"XML\", \"FormData\"],\r\n    \"PayloadSize\": [\"Empty\", \"Small\", \"Large\"]\r\n}\r\n\r\nconstraints = [\r\n    'IF [HTTPMethod] = \"GET\" THEN [PayloadSize] = \"Empty\"',\r\n    'IF [Authentication] = \"Missing\" THEN [HTTPMethod] IN {GET, POST}'\r\n]\r\n```\r\n\r\n### Configuration Testing\r\n\r\n```python\r\nparameters = {\r\n    \"Environment\": [\"Dev\", \"Staging\", \"Production\"],\r\n    \"CacheEnabled\": [\"True\", \"False\"],\r\n    \"LogLevel\": [\"Debug\", \"Info\", \"Error\"],\r\n    \"Database\": [\"SQLite\", \"PostgreSQL\", \"MySQL\"]\r\n}\r\n\r\nconstraints = [\r\n    'IF [Environment] = \"Production\" THEN [LogLevel] <> \"Debug\"',\r\n    'IF [Database] = \"SQLite\" THEN [Environment] = \"Dev\"'\r\n]\r\n```",
    "Output Format": "Present results in this structure:\r\n\r\n````markdown",
    "Troubleshooting": "### No Test Cases Generated\r\n\r\n- Check constraints aren't over-restrictive\r\n- Verify constraint syntax (must end with `;`)\r\n- Ensure parameter names in constraints match definitions (use `[ParameterName]`)\r\n\r\n### Too Many Test Cases\r\n\r\n- Verify using order 2 (pairwise) not higher order\r\n- Consider breaking into sub-models\r\n- Check if parameters can be separated into independent test suites\r\n\r\n### Invalid Combinations in Output\r\n\r\n- Add missing constraints\r\n- Verify constraint logic is correct\r\n- Check if you need to use `NOT` or `<>` operators\r\n\r\n### Script Errors\r\n\r\n- Ensure pypict is installed: `pip install pypict --break-system-packages`\r\n- Check Python version (3.7+)\r\n- Verify model syntax is valid",
    "Workflow": "python scripts/pict_helper.py parse output.txt\r\n```\r\n\r\n**To generate actual test cases**, the user can:\r\n1. Save the PICT model to a file (e.g., `model.txt`)\r\n2. Use online PICT tools like:\r\n   - https://pairwise.yuuniworks.com/\r\n   - https://pairwise.teremokgames.com/\r\n3. Or install PICT locally (see references/pict_syntax.md)\r\n\r\n### 4. Determine Expected Outputs\r\n\r\nFor each generated test case, determine the expected outcome based on:\r\n- Business requirements\r\n- Code logic\r\n- Valid/invalid combinations\r\n\r\nCreate a list of expected outputs corresponding to each test case.\r\n\r\n### 5. Format Complete Test Suite\r\n\r\nProvide the user with:\r\n1. **PICT Model** - The complete model with parameters and constraints\r\n2. **Markdown Table** - Test cases in table format with test numbers\r\n3. **Expected Outputs** - Expected result for each test case",
    "Best Practices": "### Parameter Identification\r\n\r\n**Good:**\r\n- Use descriptive names: `AuthMethod`, `UserRole`, `PaymentType`\r\n- Apply equivalence partitioning: `FileSize: Small, Medium, Large` instead of `FileSize: 1, 2, 3, 4, 5, 6, 7, 8, 9, 10`\r\n- Include boundary values: `Age: 0, 17, 18, 65, 66`\r\n- Add negative values for error testing: `Amount: ~-1, 0, 100, ~999999`\r\n\r\n**Avoid:**\r\n- Generic names: `Param1`, `Value1`, `V1`\r\n- Too many values without partitioning\r\n- Missing edge cases\r\n\r\n### Constraint Writing\r\n\r\n**Good:**\r\n- Document rationale: `# Safari only available on MacOS`\r\n- Start simple, add incrementally\r\n- Test constraints work as expected\r\n\r\n**Avoid:**\r\n- Over-constraining (eliminates too many valid combinations)\r\n- Under-constraining (generates invalid test cases)\r\n- Complex nested logic without clear documentation\r\n\r\n### Expected Output Definition\r\n\r\n**Be specific:**\r\n- \"Login succeeds, user redirected to dashboard\"\r\n- \"HTTP 400: Invalid credentials error\"\r\n- \"2FA prompt displayed\"\r\n\r\n**Not vague:**\r\n- \"Works\"\r\n- \"Error\"\r\n- \"Success\"\r\n\r\n### Scalability\r\n\r\nFor large parameter sets:\r\n- Use sub-models to group related parameters with different orders\r\n- Consider separate test suites for unrelated features\r\n- Start with order 2 (pairwise), increase for critical combinations\r\n- Typical pairwise testing reduces test cases by 80-90% vs exhaustive",
    "When to Use This Skill": "Use this skill when:\r\n- Designing test cases for a feature, function, or system with multiple input parameters\r\n- Creating test suites for configurations with many combinations\r\n- Needing comprehensive coverage with minimal test cases\r\n- Analyzing requirements to identify test scenarios\r\n- Working with code that has multiple conditional paths\r\n- Building test matrices for API endpoints, web forms, or system configurations",
    "Examples": "### Example 1: Simple Function Testing\r\n\r\n**User Request:** \"Design tests for a divide function that takes two numbers and returns the result.\"\r\n\r\n**Analysis:**\r\n- Parameters: dividend (number), divisor (number)\r\n- Values: Using equivalence partitioning and boundaries\r\n  - Numbers: negative, zero, positive, large values\r\n- Constraints: Division by zero is invalid\r\n- Expected outputs: Result or error\r\n\r\n**PICT Model:**\r\n```\r\nDividend: -10, 0, 10, 1000\r\nDivisor: ~0, -5, 1, 5, 100\r\n\r\nIF [Divisor] = \"0\" THEN [Dividend] = \"10\";\r\n```\r\n\r\n**Test Cases:**\r\n\r\n| Test # | Dividend | Divisor | Expected Output |\r\n| --- | --- | --- | --- |\r\n| 1 | 10 | 0 | Error: Division by zero |\r\n| 2 | -10 | 1 | -10.0 |\r\n| 3 | 0 | -5 | 0.0 |\r\n| 4 | 1000 | 5 | 200.0 |\r\n| 5 | 10 | 100 | 0.1 |\r\n\r\n### Example 2: E-commerce Checkout\r\n\r\n**User Request:** \"Design tests for checkout flow with payment methods, shipping options, and user types.\"\r\n\r\n**Analysis:**\r\n- Payment: Credit Card, PayPal, Bank Transfer (limited by user type)\r\n- Shipping: Standard, Express, Overnight\r\n- User: Guest, Registered, Premium\r\n- Constraints: Guests can't use Bank Transfer, Premium users get free Express\r\n\r\n**PICT Model:**\r\n```\r\nPaymentMethod: CreditCard, PayPal, BankTransfer\r\nShippingMethod: Standard, Express, Overnight\r\nUserType: Guest, Registered, Premium\r\n\r\nIF [UserType] = \"Guest\" THEN [PaymentMethod] <> \"BankTransfer\";\r\nIF [UserType] = \"Premium\" AND [ShippingMethod] = \"Express\" THEN [PaymentMethod] IN {CreditCard, PayPal};\r\n```\r\n\r\n**Output:** 12-15 test cases covering all valid payment/shipping/user combinations with expected costs and outcomes.",
    "PICT Model": "IF [Parameter1] = \"Value1\" THEN [Parameter2] = \"ValueA\";\r\n```",
    "Generated Test Cases": "| Test # | Parameter1 | Parameter2 | Expected Output |\r\n| --- | --- | --- | --- |\r\n| 1 | Value1 | ValueA | Success |\r\n| 2 | Value2 | ValueB | Success |\r\n| 3 | Value1 | ValueB | Error: Invalid combination |\r\n...",
    "References": "- **references/pict_syntax.md** - Complete PICT syntax reference with grammar and operators\r\n- **references/examples.md** - Comprehensive real-world examples across different domains\r\n- **scripts/pict_helper.py** - Python utilities for model generation and output formatting\r\n- [PICT GitHub Repository](https://github.com/microsoft/pict) - Official PICT documentation\r\n- [pypict Documentation](https://github.com/kmaehashi/pypict) - Python binding documentation\r\n- [Online PICT Tools](https://pairwise.yuuniworks.com/) - Web-based PICT generator"
  }
}